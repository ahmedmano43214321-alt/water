<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>نظام تتبع جودة المياه - الحياة الذكي شريان</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@300;400;500;600;700&family=Tajawal:wght@300;400;500;700&display=swap" rel="stylesheet">
    <!-- <link rel="stylesheet" href="style.css"> -->
    <style>
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Cairo', 'Tajawal', sans-serif;
        }

        :root {
            --primary: #2c7fb8;
            --secondary: #7fcdbb;
            --accent: #edf8b1;
            --danger: #e6555a;
            --warning: #fdae6b;
            --success: #31a354;
            --solar: #f9c74f;
            --dark: #253237;
            --light: #f8f9fa;
            --gray: #6c757d;
        }

        /* صفحة تسجيل الدخول */
        #login-page {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 50%, #f093fb 100%);
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 20px;
            width: 100%;
        }

        .login-container {
            width: 100%;
            max-width: 550px;
        }

        .login-box {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(20px);
            border: 1px solid rgba(255, 255, 255, 0.3);
            border-radius: 25px;
            padding: 50px 40px;
            box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.3);
            text-align: center;
            color: #333;
            animation: floatIn 1s ease-out;
            position: relative;
            overflow: hidden;
        }

        @keyframes floatIn {
            0% {
                opacity: 0;
                transform: translateY(50px);
            }
            100% {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .logo {
            margin-bottom: 40px;
            position: relative;
            z-index: 1;
        }

        .logo-icon {
            width: 120px;
            height: 120px;
            background: linear-gradient(135deg, #667eea, #764ba2);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 0 auto 25px;
            font-size: 3.5rem;
            color: white;
            border: 5px solid rgba(255, 255, 255, 0.2);
            box-shadow: 0 10px 30px rgba(102, 126, 234, 0.4);
        }

        .logo h1 {
            font-size: 2.5rem;
            margin-bottom: 10px;
            background: linear-gradient(135deg, #667eea, #764ba2);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            font-weight: 700;
        }

        .logo p {
            font-size: 1.1rem;
            color: #666;
            font-weight: 300;
            line-height: 1.6;
        }

        .login-tabs {
            display: flex;
            justify-content: center;
            margin-bottom: 30px;
            border-bottom: 2px solid rgba(102, 126, 234, 0.1);
            padding-bottom: 10px;
        }

        .login-tab {
            padding: 12px 25px;
            cursor: pointer;
            border-radius: 25px;
            margin: 0 5px;
            transition: all 0.3s;
            font-weight: 600;
            background: transparent;
            border: none;
            color: #666;
            font-size: 1rem;
            position: relative;
        }

        .login-tab:hover {
            color: #667eea;
            background: rgba(102, 126, 234, 0.1);
        }

        .login-tab.active {
            color: #667eea;
            background: rgba(102, 126, 234, 0.15);
        }

        .login-form {
            display: none;
            animation: fadeIn 0.5s ease;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .login-form.active {
            display: block;
        }

        .input-group {
            margin-bottom: 25px;
            text-align: right;
            position: relative;
        }

        .input-group label {
            display: block;
            margin-bottom: 8px;
            color: #555;
            font-weight: 500;
            text-align: right;
            font-size: 0.95rem;
        }

        .input-group input, 
        .input-group select {
            width: 100%;
            padding: 16px 55px 16px 20px;
            background: rgba(255, 255, 255, 0.9);
            border: 2px solid #e0e0e0;
            border-radius: 15px;
            font-size: 1rem;
            color: #333;
            transition: all 0.3s ease;
            font-weight: 500;
        }

        .input-group input:focus, 
        .input-group select:focus {
            outline: none;
            border-color: #667eea;
            background: white;
            box-shadow: 0 4px 20px rgba(102, 126, 234, 0.2);
        }

        .input-group i {
            position: absolute;
            right: 20px;
            top: 50%;
            color: #667eea;
            font-size: 1.1rem;
        }

        .password-container {
            position: relative;
        }

        .toggle-password {
            position: absolute;
            left: 20px;
            top: 50%;
            transform: translateY(-50%);
            background: none;
            border: none;
            color: #999;
            cursor: pointer;
            font-size: 1rem;
            transition: color 0.3s;
        }

        .toggle-password:hover {
            color: #667eea;
        }

        .password-strength {
            height: 5px;
            background: #e0e0e0;
            margin-top: 8px;
            border-radius: 5px;
            overflow: hidden;
        }

        .password-strength-bar {
            height: 100%;
            width: 0%;
            transition: all 0.3s;
            border-radius: 5px;
        }

        .strength-weak { background: var(--danger); }
        .strength-medium { background: var(--warning); }
        .strength-strong { background: var(--success); }

        .password-hint {
            font-size: 0.8rem;
            color: #666;
            margin-top: 5px;
            text-align: right;
        }

        .remember-me {
            display: flex;
            align-items: center;
            justify-content: flex-end;
            margin-bottom: 20px;
            color: #666;
            font-weight: 500;
        }

        .remember-me input {
            margin-left: 8px;
            width: 18px;
            height: 18px;
            cursor: pointer;
        }

        .login-btn {
            width: 100%;
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
            border: none;
            padding: 16px;
            border-radius: 15px;
            font-size: 1.1rem;
            font-weight: 600;
            cursor: pointer;
            margin-top: 10px;
            transition: all 0.3s ease;
            box-shadow: 0 10px 25px rgba(102, 126, 234, 0.4);
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 10px;
        }

        .login-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 15px 35px rgba(102, 126, 234, 0.5);
        }

        .login-btn:disabled {
            opacity: 0.6;
            cursor: not-allowed;
            transform: none !important;
        }

        .login-btn i {
            animation: spin 1s linear infinite;
            display: none;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        .forgot-password {
            display: block;
            text-align: center;
            margin-top: 20px;
            color: #667eea;
            text-decoration: none;
            font-size: 0.9rem;
            transition: color 0.3s ease;
            font-weight: 500;
        }

        .forgot-password:hover {
            color: #764ba2;
            text-decoration: underline;
        }

        .message {
            padding: 15px;
            border-radius: 12px;
            margin-top: 15px;
            font-size: 0.9rem;
            display: none;
            animation: fadeIn 0.3s ease;
            text-align: right;
            line-height: 1.6;
        }

        .error {
            background: linear-gradient(135deg, rgba(230, 85, 90, 0.1), rgba(230, 85, 90, 0.05));
            color: #e6555a;
            border: 1px solid rgba(230, 85, 90, 0.2);
        }

        .success {
            background: linear-gradient(135deg, rgba(49, 163, 84, 0.1), rgba(49, 163, 84, 0.05));
            color: #31a354;
            border: 1px solid rgba(49, 163, 84, 0.2);
        }

        .demo-accounts {
            margin-top: 30px;
            padding: 20px;
            background: rgba(102, 126, 234, 0.05);
            border-radius: 15px;
            border: 1px solid rgba(102, 126, 234, 0.1);
        }

        .demo-accounts h4 {
            margin-bottom: 15px;
            color: #555;
            font-size: 1rem;
            display: flex;
            align-items: center;
            gap: 8px;
            justify-content: center;
        }

        .demo-account {
            background: white;
            padding: 12px 15px;
            border-radius: 10px;
            margin: 8px 0;
            font-size: 0.85rem;
            cursor: pointer;
            transition: all 0.3s;
            border: 1px solid rgba(0, 0, 0, 0.05);
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .demo-account:hover {
            background: rgba(102, 126, 234, 0.1);
            border-color: rgba(102, 126, 234, 0.2);
            transform: translateX(-5px);
        }

        .demo-account i {
            color: #667eea;
            font-size: 1rem;
        }

        .footer {
            margin-top: 40px;
            padding-top: 20px;
            border-top: 1px solid rgba(0, 0, 0, 0.1);
            font-size: 0.9rem;
            color: #888;
            line-height: 1.6;
        }

        /* النظام الرئيسي */
        #main-app {
            display: none;
        }

        body.logged-in {
            background-color: #f0f7ff;
            color: var(--dark);
            line-height: 1.6;
            min-height: 100vh;
        }

        body.logged-in #login-page {
            display: none;
        }

        body.logged-in #main-app {
            display: flex;
            flex-direction: row;
        }

        .sidebar {
            width: 70px;
            background: linear-gradient(to bottom, var(--primary), #1d5f8a);
            color: white;
            padding: 20px 0;
            box-shadow: 2px 0 10px rgba(0, 0, 0, 0.1);
            transition: all 0.3s ease;
            position: fixed;
            height: 100vh;
            z-index: 100;
            display: flex;
            flex-direction: column;
        }

        .sidebar:hover {
            width: 220px;
        }

        .sidebar-logo {
            text-align: center;
            padding: 20px 10px;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
            margin-bottom: 20px;
            white-space: nowrap;
            overflow: hidden;
        }

        .sidebar-logo h1 {
            font-size: 1.5rem;
            margin-bottom: 5px;
            opacity: 0;
            transition: opacity 0.3s ease 0.2s;
        }

        .sidebar-logo p {
            font-size: 0.8rem;
            opacity: 0;
            transition: opacity 0.3s ease 0.2s;
        }

        .sidebar:hover .sidebar-logo h1,
        .sidebar:hover .sidebar-logo p {
            opacity: 1;
        }

        .nav-links {
            list-style: none;
            padding: 0 10px;
            flex-grow: 1;
            overflow-y: auto;
        }

        .nav-links li {
            margin-bottom: 5px;
        }

        .nav-links a {
            display: flex;
            align-items: center;
            padding: 12px 10px;
            color: white;
            text-decoration: none;
            border-radius: 8px;
            transition: all 0.3s ease;
            white-space: nowrap;
            overflow: hidden;
        }

        .nav-links a:hover, .nav-links a.active {
            background-color: rgba(255, 255, 255, 0.1);
        }

        .nav-links i {
            margin-left: 10px;
            font-size: 1.4rem;
            min-width: 30px;
            text-align: center;
        }

        .nav-links span {
            opacity: 0;
            transition: opacity 0.3s ease;
        }

        .sidebar:hover .nav-links span {
            opacity: 1;
        }

        .sidebar-footer {
            padding: 20px 10px;
            border-top: 1px solid rgba(255, 255, 255, 0.1);
            margin-top: auto;
        }

        .logout-link {
            display: flex;
            align-items: center;
            padding: 12px 10px;
            color: white;
            text-decoration: none;
            border-radius: 8px;
            transition: all 0.3s ease;
            background: rgba(255, 255, 255, 0.1);
            white-space: nowrap;
            overflow: hidden;
            cursor: pointer;
        }

        .logout-link:hover {
            background: rgba(255, 255, 255, 0.2);
        }

        .logout-link i {
            margin-left: 10px;
            font-size: 1.4rem;
            min-width: 30px;
            text-align: center;
        }

        .logout-link span {
            opacity: 0;
            transition: opacity 0.3s ease;
        }

        .sidebar:hover .logout-link span {
            opacity: 1;
        }

        .main-content {
            margin-right: 70px;
            padding: 20px;
            overflow-y: auto;
            transition: all 0.3s ease;
            min-height: 100vh;
            flex-grow: 1;
        }

        .sidebar:hover ~ .main-content {
            margin-right: 220px;
        }

        .page {
            display: none;
        }

        .page.active {
            display: block;
            animation: fadeIn 0.5s ease;
        }

        .header {
            display: flex;
            justify-content: space-between;
            flex-direction: column;
            align-items: center;
            margin-bottom: 30px;
            padding-bottom: 15px;
            border-bottom: 1px solid #e0e0e0;
            flex-wrap: wrap;
        }

        .header h2 {
            color: var(--primary);
            font-weight: 600;
            margin-bottom: 10px;
        }

        .user-info {
            display: flex;
            align-items: center;
            margin-bottom: 10px;
            gap: 10px;
        }

        .user-info img {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            margin-left: 10px;
            border: 2px solid var(--primary);
        }

        .stats-cards {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(240px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }

        .card {
            background: white;
            border-radius: 12px;
            padding: 20px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.05);
            transition: transform 0.3s ease;
        }

        .card:hover {
            transform: translateY(-5px);
        }

        .stat-card {
            display: flex;
            align-items: center;
        }

        .stat-icon {
            width: 60px;
            height: 60px;
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-left: 15px;
            font-size: 1.8rem;
            color: white;
        }

        .ph-icon { background-color: var(--primary); }
        .turbidity-icon { background-color: var(--secondary); }
        .oxygen-icon { background-color: var(--success); }
        .temp-icon { background-color: var(--warning); }
        .solar-icon { background-color: var(--solar); }

        .stat-info h3 {
            font-size: 1.8rem;
            margin-bottom: 5px;
        }

        .stat-info p {
            color: var(--gray);
            font-size: 0.9rem;
        }

        .trend {
            display: flex;
            align-items: center;
            font-size: 0.8rem;
            margin-top: 5px;
        }

        .up { color: var(--success); }
        .down { color: var(--danger); }

        .charts {
            display: grid;
            grid-template-columns: 2fr 1fr;
            gap: 20px;
            margin-bottom: 30px;
        }

        .chart-container {
            background: white;
            border-radius: 12px;
            padding: 20px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.05);
        }

        .chart-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 15px;
            flex-wrap: wrap;
        }

        .chart-header h3 {
            color: var(--dark);
            font-size: 1.2rem;
            margin-bottom: 10px;
        }

        .chart-wrapper {
            height: 250px;
            position: relative;
        }

        .stations {
            background: white;
            border-radius: 12px;
            padding: 20px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.05);
        }

        .stations-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 15px;
            flex-wrap: wrap;
        }

        .stations-header h3 {
            color: var(--dark);
            font-size: 1.2rem;
            margin-bottom: 10px;
        }

        .stations-table {
            width: 100%;
            border-collapse: collapse;
        }

        .stations-table th, .stations-table td {
            padding: 12px 15px;
            text-align: right;
            border-bottom: 1px solid #f0f0f0;
        }

        .stations-table th {
            color: var(--gray);
            font-weight: 500;
        }

        .status {
            display: inline-block;
            padding: 5px 10px;
            border-radius: 20px;
            font-size: 0.8rem;
            font-weight: 500;
        }

        .status-normal {
            background-color: rgba(49, 163, 84, 0.1);
            color: var(--success);
        }

        .status-warning {
            background-color: rgba(253, 174, 107, 0.1);
            color: var(--warning);
        }

        .status-critical {
            background-color: rgba(230, 85, 90, 0.1);
            color: var(--danger);
        }

        .hero-section {
            background: linear-gradient(135deg, var(--primary), var(--secondary));
            color: white;
            padding: 60px 40px;
            border-radius: 15px;
            margin-bottom: 40px;
            text-align: center;
        }

        .hero-section h1 {
            font-size: 2.5rem;
            margin-bottom: 20px;
        }

        .hero-section p {
            font-size: 1.2rem;
            max-width: 800px;
            margin: 0 auto 30px;
        }

        .features {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 25px;
            margin-bottom: 40px;
        }

        .feature-card {
            background: white;
            padding: 30px;
            border-radius: 12px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.05);
            text-align: center;
            transition: transform 0.3s ease;
        }

        .feature-card:hover {
            transform: translateY(-5px);
        }

        .feature-icon {
            width: 80px;
            height: 80px;
            background: var(--primary);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 0 auto 20px;
            font-size: 2rem;
            color: white;
        }

        .project-images {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin-top: 40px;
        }

        .project-image {
            background: white;
            border-radius: 12px;
            overflow: hidden;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.05);
        }

        .project-image img {
            width: 100%;
            height: 200px;
            object-fit: cover;
        }

        .image-caption {
            padding: 15px;
            text-align: center;
        }

        #map {
            height: 500px;
            border-radius: 12px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.05);
        }

        .map-container {
            background: white;
            border-radius: 12px;
            padding: 20px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.05);
            margin-bottom: 30px;
        }

        .solar-stats {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }

        .solar-benefits {
            background: white;
            border-radius: 12px;
            padding: 25px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.05);
            margin-bottom: 30px;
        }

        .benefits-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin-top: 20px;
        }

        .benefit-item {
            display: flex;
            align-items: center;
            padding: 15px;
            background: rgba(249, 199, 79, 0.1);
            border-radius: 8px;
        }

        .benefit-item i {
            color: var(--solar);
            font-size: 1.5rem;
            margin-left: 10px;
        }

        .team-section {
            background: white;
            border-radius: 12px;
            padding: 30px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.05);
            margin-bottom: 30px;
        }

        .team-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 25px;
            margin-top: 25px;
        }

        .team-member {
            text-align: center;
            padding: 25px;
            background: var(--light);
            border-radius: 12px;
            transition: transform 0.3s ease;
        }

        .team-member:hover {
            transform: translateY(-5px);
        }

        .member-avatar {
            width: 100px;
            height: 100px;
            border-radius: 50%;
            margin: 0 auto 15px;
            border: 4px solid var(--primary);
            overflow: hidden;
        }

        .member-avatar img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        .member-role {
            color: var(--primary);
            font-weight: 700;
            margin: 5px 0;
            font-size: 22px;
        }

        .member-tasks {
            font-size: 0.9rem;
            color: var(--gray);
            margin-top: 10px;
        }

        .supervisors {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin-top: 30px;
        }

        .supervisor-card {
            background: white;
            padding: 25px;
            border-radius: 12px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.05);
            text-align: center;
        }

        .settings-section {
            background: white;
            border-radius: 12px;
            padding: 30px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.05);
            margin-bottom: 30px;
        }

        .settings-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 25px;
            margin-top: 25px;
        }

        .setting-group {
            margin-bottom: 25px;
        }

        .setting-group h4 {
            margin-bottom: 15px;
            color: var(--primary);
            border-bottom: 2px solid var(--light);
            padding-bottom: 8px;
        }

        .setting-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 12px 0;
            border-bottom: 1px solid #f0f0f0;
            flex-wrap: wrap;
        }

        .setting-info {
            flex: 1;
            min-width: 200px;
            margin-bottom: 10px;
        }

        .setting-info h5 {
            margin-bottom: 5px;
        }

        .setting-info p {
            font-size: 0.9rem;
            color: var(--gray);
        }

        .toggle-switch {
            position: relative;
            display: inline-block;
            width: 50px;
            height: 24px;
        }

        .toggle-switch input {
            opacity: 0;
            width: 0;
            height: 0;
        }

        .slider {
            position: absolute;
            cursor: pointer;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-color: #ccc;
            transition: .4s;
            border-radius: 24px;
        }

        .slider:before {
            position: absolute;
            content: "";
            height: 16px;
            width: 16px;
            left: 4px;
            bottom: 4px;
            background-color: white;
            transition: .4s;
            border-radius: 50%;
        }

        input:checked + .slider {
            background-color: var(--primary);
        }

        input:checked + .slider:before {
            transform: translateX(26px);
        }

        .select-setting {
            padding: 8px 12px;
            border-radius: 6px;
            border: 1px solid #e0e0e0;
            background: white;
            min-width: 150px;
        }

        .btn-save {
            background: var(--primary);
            color: white;
            border: none;
            padding: 12px 30px;
            border-radius: 8px;
            cursor: pointer;
            font-size: 1rem;
            font-weight: 600;
            transition: background 0.3s ease;
        }

        .btn-save:hover {
            background: #1d5f8a;
        }

        /* تحسينات جديدة */

        /* تحسينات صفحة النظرة العامة */
        .project-details {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 25px;
            margin: 40px 0;
        }

        .detail-card {
            background: white;
            border-radius: 15px;
            padding: 25px;
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.08);
            transition: all 0.3s ease;
        }

        .detail-card:hover {
            transform: translateY(-8px);
            box-shadow: 0 15px 35px rgba(0, 0, 0, 0.12);
        }

        .detail-card h3 {
            color: var(--primary);
            margin-bottom: 20px;
            font-size: 1.4rem;
            border-right: 4px solid var(--primary);
            padding-right: 15px;
        }

        .detail-card p {
            line-height: 1.8;
            color: #555;
            margin-bottom: 15px;
        }

        .tech-stack {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
            margin-top: 20px;
        }

        .tech-badge {
            background: rgba(44, 127, 184, 0.1);
            color: var(--primary);
            padding: 8px 15px;
            border-radius: 20px;
            font-size: 0.85rem;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .tech-badge i {
            font-size: 1rem;
        }

        .image-gallery {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 20px;
            margin: 40px 0;
        }

        .gallery-item {
            position: relative;
            border-radius: 15px;
            overflow: hidden;
            height: 250px;
            cursor: pointer;
        }

        .gallery-item img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            transition: transform 0.5s ease;
        }

        .gallery-item:hover img {
            transform: scale(1.1);
        }

        .gallery-overlay {
            position: absolute;
            bottom: 0;
            right: 0;
            left: 0;
            background: linear-gradient(to top, rgba(0,0,0,0.8), transparent);
            color: white;
            padding: 20px;
            transform: translateY(100%);
            transition: transform 0.3s ease;
        }

        .gallery-item:hover .gallery-overlay {
            transform: translateY(0);
        }

        .timeline {
            position: relative;
            margin: 40px 0;
            padding-right: 30px;
        }

        .timeline::before {
            content: '';
            position: absolute;
            right: 0;
            top: 0;
            bottom: 0;
            width: 4px;
            background: linear-gradient(to bottom, var(--primary), var(--secondary));
            border-radius: 2px;
        }

        .timeline-item {
            position: relative;
            margin-bottom: 30px;
            padding-right: 30px;
        }

        .timeline-item::before {
            content: '';
            position: absolute;
            right: -36px;
            top: 5px;
            width: 20px;
            height: 20px;
            background: var(--primary);
            border-radius: 50%;
            border: 4px solid white;
            box-shadow: 0 0 0 3px var(--primary);
        }

        .timeline-item.completed::before {
            background: var(--success);
            box-shadow: 0 0 0 3px var(--success);
        }

        .timeline-item.current::before {
            background: var(--warning);
            box-shadow: 0 0 0 3px var(--warning);
            animation: pulse 2s infinite;
        }

        @keyframes pulse {
            0% { box-shadow: 0 0 0 0 rgba(253, 174, 107, 0.7); }
            70% { box-shadow: 0 0 0 10px rgba(253, 174, 107, 0); }
            100% { box-shadow: 0 0 0 0 rgba(253, 174, 107, 0); }
        }

        /* تحسينات صفحة الخريطة */
        .map-controls {
            background: white;
            padding: 20px;
            border-radius: 12px;
            margin-bottom: 20px;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.05);
        }

        .control-group {
            display: flex;
            flex-wrap: wrap;
            gap: 15px;
            margin-bottom: 15px;
        }

        .control-btn {
            padding: 10px 20px;
            background: var(--light);
            border: 1px solid #e0e0e0;
            border-radius: 8px;
            cursor: pointer;
            display: flex;
            align-items: center;
            gap: 8px;
            transition: all 0.3s;
            font-size: 0.9rem;
        }

        .control-btn:hover {
            background: var(--primary);
            color: white;
            border-color: var(--primary);
        }

        .control-btn.active {
            background: var(--primary);
            color: white;
            border-color: var(--primary);
        }

        .station-details {
            background: white;
            padding: 25px;
            border-radius: 12px;
            margin-top: 20px;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.05);
        }

        .station-info-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin-top: 20px;
        }

        .station-metric {
            text-align: center;
            padding: 20px;
            background: rgba(44, 127, 184, 0.05);
            border-radius: 10px;
            border: 2px solid rgba(44, 127, 184, 0.1);
        }

        .station-metric-value {
            font-size: 2rem;
            font-weight: bold;
            color: var(--primary);
            margin: 10px 0;
        }

        /* تحسينات صفحة النصائح */
        .water-importance {
            background: linear-gradient(135deg, #2c7fb8, #7fcdbb);
            color: white;
            padding: 60px 40px;
            border-radius: 15px;
            margin: 40px 0;
            position: relative;
            overflow: hidden;
        }

        .importance-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 30px;
            margin-top: 40px;
        }

        .importance-card {
            background: rgba(255, 255, 255, 0.9);
            border-radius: 12px;
            padding: 30px;
            text-align: center;
            backdrop-filter: blur(10px);
            transition: transform 0.3s ease;
        }

        .importance-card:hover {
            transform: translateY(-10px);
        }

        .importance-icon {
            width: 80px;
            height: 80px;
            background: var(--primary);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 0 auto 20px;
            font-size: 2rem;
            color: white;
        }

        .water-facts {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin: 40px 0;
        }

        .fact-card {
            background: white;
            padding: 30px;
            border-radius: 12px;
            box-shadow: 0 5px 20px rgba(0, 0, 0, 0.08);
            text-align: center;
            border-top: 4px solid var(--secondary);
        }

        .fact-number {
            font-size: 2.5rem;
            font-weight: bold;
            color: var(--primary);
            margin-bottom: 10px;
        }

        .water-tips-gallery {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 25px;
            margin: 40px 0;
        }

        .tip-card {
            background: white;
            border-radius: 12px;
            overflow: hidden;
            box-shadow: 0 5px 20px rgba(0, 0, 0, 0.08);
            transition: all 0.3s ease;
        }

        .tip-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 15px 30px rgba(0, 0, 0, 0.15);
        }

        .tip-image {
            height: 200px;
            overflow: hidden;
        }

        .tip-image img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            transition: transform 0.5s ease;
        }

        .tip-card:hover .tip-image img {
            transform: scale(1.1);
        }

        .tip-content {
            padding: 25px;
        }

        .tip-tag {
            display: inline-block;
            background: rgba(44, 127, 184, 0.1);
            color: var(--primary);
            padding: 5px 15px;
            border-radius: 15px;
            font-size: 0.8rem;
            margin-bottom: 15px;
        }

        .interactive-tip {
            background: linear-gradient(135deg, #f9c74f, #f9844a);
            color: white;
            padding: 40px;
            border-radius: 15px;
            margin: 40px 0;
            text-align: center;
        }

        .water-calculator {
            background: white;
            padding: 30px;
            border-radius: 12px;
            margin: 40px 0;
            box-shadow: 0 5px 20px rgba(0, 0, 0, 0.08);
        }

        .calculator-input {
            display: flex;
            align-items: center;
            gap: 15px;
            margin: 20px 0;
            flex-wrap: wrap;
        }

        .calculator-input input {
            padding: 12px 20px;
            border: 2px solid #e0e0e0;
            border-radius: 8px;
            font-size: 1rem;
            flex: 1;
            min-width: 200px;
        }

        .calculator-result {
            background: rgba(44, 127, 184, 0.1);
            padding: 20px;
            border-radius: 10px;
            margin-top: 20px;
            text-align: center;
            display: none;
        }

        /* تحسينات صفحة الطاقة الشمسية */
        .solar-system {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 25px;
            margin: 30px 0;
        }

        .solar-component {
            background: white;
            padding: 25px;
            border-radius: 15px;
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.08);
            text-align: center;
            border-top: 4px solid var(--solar);
        }

        .solar-component-icon {
            width: 70px;
            height: 70px;
            background: linear-gradient(135deg, #f9c74f, #f9844a);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 0 auto 20px;
            font-size: 1.8rem;
            color: white;
        }

        .solar-simulation {
            background: white;
            padding: 30px;
            border-radius: 15px;
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.08);
            margin: 30px 0;
        }

        .simulation-controls {
            display: flex;
            gap: 15px;
            margin: 20px 0;
            flex-wrap: wrap;
        }

        /* تحسينات صفحة فريق العمل */
        .achievements {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin: 30px 0;
        }

        .achievement-card {
            background: white;
            padding: 25px;
            border-radius: 12px;
            box-shadow: 0 5px 20px rgba(0, 0, 0, 0.08);
            text-align: center;
        }

        .achievement-icon {
            font-size: 2.5rem;
            color: var(--primary);
            margin-bottom: 15px;
        }

        /* تحسينات صفحة الإعدادات */
        .settings-profile {
            background: white;
            padding: 30px;
            border-radius: 15px;
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.08);
            margin-bottom: 30px;
        }

        .profile-form {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin-top: 20px;
        }

        /* تحسينات لوحة البيانات */
        .dashboard-alerts {
            background: linear-gradient(135deg, #ff6b6b, #ff8e53);
            color: white;
            padding: 25px;
            border-radius: 15px;
            margin: 30px 0;
        }

        .alert-item {
            background: rgba(255, 255, 255, 0.2);
            padding: 15px;
            border-radius: 10px;
            margin: 10px 0;
            display: flex;
            align-items: center;
            gap: 15px;
        }

        .quick-actions {
            display: flex;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 80px;
            margin: 30px 0;
        }

        .action-btn {
            padding: 25px;
            background: white;
            border: none;
            border-radius: 12px;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.08);
            cursor: pointer;
            transition: all 0.3s;
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 10px;
        }

        .action-btn:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.15);
        }

        .action-icon {
            width: 60px;
            height: 60px;
            background: var(--primary);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.5rem;
            color: white;
        }

        /* تحسينات عامة */
        .section-title {
            color: var(--primary);
            font-size: 1.8rem;
            margin: 40px 0 20px;
            padding-bottom: 10px;
            border-bottom: 3px solid var(--primary);
            display: inline-block;
        }

        .subsection-title {
            color: var(--secondary);
            font-size: 1.4rem;
            margin: 25px 0 15px;
            padding-right: 15px;
            border-right: 3px solid var(--secondary);
        }

        .stat-badge {
            display: inline-block;
            padding: 5px 15px;
            border-radius: 20px;
            font-size: 0.9rem;
            font-weight: 600;
            margin: 5px;
        }

        .stat-badge.primary { background: rgba(44, 127, 184, 0.1); color: var(--primary); }
        .stat-badge.success { background: rgba(49, 163, 84, 0.1); color: var(--success); }
        .stat-badge.warning { background: rgba(253, 174, 107, 0.1); color: var(--warning); }
        .stat-badge.danger { background: rgba(230, 85, 90, 0.1); color: var(--danger); }

        .progress-bar {
            height: 10px;
            background: #e0e0e0;
            border-radius: 5px;
            overflow: hidden;
            margin: 10px 0;
        }

        .progress-fill {
            height: 100%;
            background: var(--primary);
            border-radius: 5px;
            transition: width 0.3s ease;
        }

        /* تحسينات للوضع الليلي */
        body.dark-mode {
            background-color: #1a1a1a;
            color: #e0e0e0;
        }

        body.dark-mode .main-content {
            background-color: #1a1a1a;
        }

        body.dark-mode .card,
        body.dark-mode .chart-container,
        body.dark-mode .stations,
        body.dark-mode .feature-card,
        body.dark-mode .team-section,
        body.dark-mode .settings-section,
        body.dark-mode .solar-benefits,
        body.dark-mode .project-image,
        body.dark-mode .supervisor-card,
        body.dark-mode .team-member,
        body.dark-mode .detail-card,
        body.dark-mode .gallery-item,
        body.dark-mode .map-controls,
        body.dark-mode .station-details,
        body.dark-mode .station-metric,
        body.dark-mode .importance-card,
        body.dark-mode .fact-card,
        body.dark-mode .tip-card,
        body.dark-mode .water-calculator,
        body.dark-mode .calculator-result,
        body.dark-mode .solar-component,
        body.dark-mode .solar-simulation,
        body.dark-mode .achievement-card,
        body.dark-mode .settings-profile,
        body.dark-mode .action-btn {
            background-color: #2d2d2d;
            color: #000000;
        }

        body.dark-mode .login-box {
            background: rgba(45, 45, 45, 0.95);
            color: #e0e0e0;
        }

        body.dark-mode .water-importance {
            background: linear-gradient(135deg, #1a5276, #4a8d8d);
        }

        body.dark-mode .dashboard-alerts {
            background: linear-gradient(135deg, #c53030, #cc6b2e);
        }

        /* تحسينات للاستجابة */
        @media (max-width: 992px) {
            .charts {
                grid-template-columns: 1fr;
            }
            
            .project-details {
                grid-template-columns: 1fr;
            }
            
            .importance-grid {
                grid-template-columns: 1fr;
            }
        }

        @media (max-width: 768px) {
            .sidebar {
                width: 100%;
                height: 70px;
                position: fixed;
                bottom: 0;
                top: auto;
                flex-direction: row;
                justify-content: space-around;
                padding: 0;
            }
            
            .sidebar:hover {
                width: 100%;
            }
            
            .sidebar-logo {
                display: none;
            }
            
            .nav-links {
                display: flex;
                flex-direction: row;
                width: 100%;
                padding: 0;
                margin: 0;
            }
            
            .nav-links li {
                flex: 1;
                margin: 0;
            }
            
            .nav-links a {
                flex-direction: column;
                padding: 10px 5px;
                font-size: 0.7rem;
            }
            
            .nav-links i {
                margin: 0 0 5px 0;
                font-size: 1.2rem;
            }
            
            .nav-links span {
                opacity: 1;
                font-size: 0.7rem;
            }
            
            .sidebar-footer {
                display: none;
            }
            
            .main-content {
                margin-right: 0;
                margin-bottom: 70px;
                padding-bottom: 20px;
            }
            
            .sidebar:hover ~ .main-content {
                margin-right: 0;
            }

            .login-container {
                max-width: 95%;
            }
            
            .login-box {
                padding: 40px 25px;
            }
            
            #map {
                height: 300px;
            }

            .hero-section {
                padding: 40px 20px;
            }
            
            .hero-section h1 {
                font-size: 2rem;
            }
            
            .control-group {
                justify-content: center;
            }
            
            .station-info-grid {
                grid-template-columns: 1fr;
            }
        }

        @media (max-width: 480px) {
            .login-box {
                padding: 30px 20px;
            }
            
            .logo h1 {
                font-size: 1.8rem;
            }
            
            .login-tabs {
                flex-direction: column;
                gap: 10px;
            }
            
            .login-tab {
                width: 100%;
                margin: 0;
            }
            
            .calculator-input {
                flex-direction: column;
                align-items: stretch;
            }
            
            .calculator-input input,
            .calculator-input select {
                min-width: 100%;
            }
        }
    </style>
</head>
<body>
    <!-- صفحة تسجيل الدخول -->
    <div id="login-page">
        <div class="login-container">
            <div class="login-box">
                <div class="logo">
                    <div class="logo-icon">
                        <i class="fas fa-water"></i>
                    </div>
                    <h1>شريان الحياة الذكي شريان</h1>
                    <p>نظام تتبع جودة المياه باستخدام إنترنت الأشياء والطاقة الشمسية</p>
                </div>
                
                <div class="login-tabs">
                    <button class="login-tab active" data-tab="login">تسجيل الدخول</button>
                    <button class="login-tab" data-tab="register">إنشاء حساب</button>
                    <button class="login-tab" data-tab="reset">استعادة كلمة المرور</button>
                </div>
                
                <form class="login-form active" id="login-form">
                    <div class="input-group">
                        <label for="email">البريد الإلكتروني</label>
                        <input type="email" id="email" placeholder="أدخل بريدك الإلكتروني" required>
                        <i class="fas fa-envelope"></i>
                    </div>
                    
                    <div class="input-group">
                        <label for="password">كلمة المرور</label>
                        <div class="password-container">
                            <input type="password" id="password" placeholder="أدخل كلمة المرور" required>
                            <i class="fas fa-lock"></i>
                            <button type="button" class="toggle-password" id="toggleLoginPassword">
                                <i class="fas fa-eye"></i>
                            </button>
                        </div>
                    </div>
                    
                    <div class="remember-me">
                        <label for="remember-me">
                            <input type="checkbox" id="remember-me" checked>
                            تذكرني على هذا الجهاز
                        </label>
                    </div>
                    
                    <div id="login-message" class="message"></div>
                    
                    <button type="submit" class="login-btn" id="loginButton">
                        <i class="fas fa-spinner"></i>
                        <span>دخول النظام</span>
                    </button>
                    
                    <a href="#" class="forgot-password" id="show-reset-tab">نسيت كلمة المرور؟</a>
                </form>
                
                <form class="login-form" id="register-form">
                    <div class="input-group">
                        <label for="reg-name">الاسم الكامل</label>
                        <input type="text" id="reg-name" placeholder="أدخل اسمك الكامل" required>
                        <i class="fas fa-user"></i>
                    </div>
                    
                    <div class="input-group">
                        <label for="reg-email">البريد الإلكتروني</label>
                        <input type="email" id="reg-email" placeholder="أدخل بريدك الإلكتروني" required>
                        <i class="fas fa-envelope"></i>
                    </div>
                    
                    <div class="input-group">
                        <label for="reg-password">كلمة المرور</label>
                        <div class="password-container">
                            <input type="password" id="reg-password" placeholder="كلمة مرور قوية (8 أحرف على الأقل)" required minlength="8">
                            <i class="fas fa-lock"></i>
                            <button type="button" class="toggle-password" id="toggleRegPassword">
                                <i class="fas fa-eye"></i>
                            </button>
                        </div>
                        <div class="password-strength">
                            <div class="password-strength-bar" id="password-strength-bar"></div>
                        </div>
                        <div class="password-hint" id="password-hint"></div>
                    </div>
                    
                    <div class="input-group">
                        <label for="reg-confirm-password">تأكيد كلمة المرور</label>
                        <div class="password-container">
                            <input type="password" id="reg-confirm-password" placeholder="أعد إدخال كلمة المرور" required>
                            <i class="fas fa-lock"></i>
                            <button type="button" class="toggle-password" id="toggleConfirmPassword">
                                <i class="fas fa-eye"></i>
                            </button>
                        </div>
                    </div>
                    
                    <div class="input-group">
                        <label for="reg-role">الدور في النظام</label>
                        <select id="reg-role" required>
                            <option value="" selected disabled>اختر دورك في النظام</option>
                            <option value="admin">مدير النظام</option>
                            <option value="tech">فني مختبر</option>
                            <option value="monitor">مراقب جودة</option>
                        </select>
                        <i class="fas fa-user-tag"></i>
                    </div>
                    
                    <div id="register-message" class="message"></div>
                    
                    <button type="submit" class="login-btn" id="registerButton">
                        <i class="fas fa-spinner"></i>
                        <span>إنشاء الحساب</span>
                    </button>
                </form>
                
                <form class="login-form" id="reset-form">
                    <div class="input-group">
                        <label for="reset-email">البريد الإلكتروني المسجل</label>
                        <input type="email" id="reset-email" placeholder="أدخل بريدك الإلكتروني المسجل" required>
                        <i class="fas fa-envelope"></i>
                    </div>
                    
                    <div id="reset-message" class="message"></div>
                    
                    <button type="submit" class="login-btn" id="resetButton">
                        <i class="fas fa-spinner"></i>
                        <span>إرسال رابط الاستعادة</span>
                    </button>
                    
                    <a href="#" class="forgot-password" id="back-to-login">العودة لتسجيل الدخول</a>
                </form>
                
                <div class="demo-accounts">
                    <h4><i class="fas fa-users"></i> حسابات تجريبية</h4>
                    <div class="demo-account" data-email="admin@water.com" data-password="Admin@2024">
                        <i class="fas fa-user-shield"></i>
                        مدير النظام - admin@water.com / Admin@2024
                    </div>
                    <div class="demo-account" data-email="tech@water.com" data-password="Tech@2024">
                        <i class="fas fa-user-cog"></i>
                        فني مختبر - tech@water.com / Tech@2024
                    </div>
                </div>
                
                <div class="footer">
                    نظام مراقبة جودة المياه © 2024
                </div>
            </div>
        </div>
    </div>

    <!-- النظام الرئيسي -->
    <div id="main-app">
        <div class="sidebar">
            <div class="sidebar-logo">
                <h1>الحياة الذكي شريان</h1>
                <p>نظام تتبع جودة المياه</p>
            </div>
            
            <ul class="nav-links">
                <li><a href="#" class="nav-link active" data-page="home"><i class="fas fa-home"></i><span>النظرة العامة</span></a></li>
                <li><a href="#" class="nav-link" data-page="dashboard"><i class="fas fa-chart-bar"></i><span>لوحة البيانات</span></a></li>
                <li><a href="#" class="nav-link" data-page="map"><i class="fas fa-map-marked-alt"></i><span>الخريطة</span></a></li>
                <li><a href="#" class="nav-link" data-page="solar"><i class="fas fa-solar-panel"></i><span>الطاقة الشمسية</span></a></li>
                <li><a href="#" class="nav-link" data-page="tips"><i class="fas fa-lightbulb"></i><span>نصائح المياه</span></a></li>
                <li><a href="#" class="nav-link" data-page="team"><i class="fas fa-users"></i><span>فريق العمل</span></a></li>
                <li><a href="#" class="nav-link" data-page="settings"><i class="fas fa-cog"></i><span>الإعدادات</span></a></li>
            </ul>
            
            <div class="sidebar-footer">
                <a href="#" class="logout-link" id="logoutLink">
                    <i class="fas fa-sign-out-alt"></i>
                    <span>تسجيل الخروج</span>
                </a>
            </div>
        </div>

        <div class="main-content">
            <!-- صفحة النظرة العامة - محسنة -->
           <!-- صفحة النظرة العامة - محسنة -->
<div class="page active" id="home-page">
    <div class="header">
        <h2>نظرة عامة عن المشروع</h2>
        <div class="user-info">
            <div>
                <div id="current-user-name">أحمد محمد</div>
                <div style="font-size: 0.8rem; color: var(--gray);" id="current-user-role">مسؤول النظام</div>
            </div>
            <img id="current-user-avatar" src="https://ui-avatars.com/api/?name=أحمد+محمد&background=2c7fb8&color=fff&size=40" alt="صورة المستخدم">
        </div>
    </div>

    <div class="hero-section">
        <h1>نظام تتبع جودة المياه باستخدام إنترنت الأشياء</h1>
        <p>مشروع مبتكر لمراقبة جودة المياه في الوقت الحقيقي باستخدام أحدث تقنيات إنترنت الأشياء والذكاء الاصطناعي والطاقة الشمسية</p>
    </div>

    <!-- قسم مقدمة المشروع -->
    <div class="detail-card" style="margin-bottom: 30px;">
        <h3><i class="fas fa-info-circle"></i> مقدمة عن المشروع</h3>
        <p>نظام "شريان الحياة الذكي" هو مشروع تخرج مبتكر يهدف إلى تطوير نظام متكامل لمراقبة جودة المياه باستخدام تقنيات إنترنت الأشياء (IoT) والطاقة الشمسية. يعمل النظام على تتبع ومراقبة معايير جودة المياه المختلفة مثل الأس الهيدروجيني، العكورة، الأكسجين الذائب، ودرجة الحرارة.</p>
        
        <p>يهدف المشروع إلى حل مشكلة نقص أنظمة المراقبة الفعالة والمستدامة لجودة المياه في المناطق النائية والريفية، حيث يصعب الوصول إلى مصادر الطاقة التقليدية وتكاليف المراقبة مرتفعة.</p>
    </div>

    <div class="project-details">
        <div class="detail-card">
            <h3><i class="fas fa-bullseye"></i> أهداف المشروع</h3>
            <p>• تطوير نظام ذكي لمراقبة جودة المياه باستمرار على مدار 24/7</p>
            <p>• توفير بيانات دقيقة في الوقت الحقيقي للجهات المعنية والمواطنين</p>
            <p>• التنبيه المبكر عن أي تلوث أو انحراف في معايير الجودة</p>
            <p>• تقديم حل مستدام بيئياً باستخدام الطاقة الشمسية النظيفة</p>
            <p>• تحليل البيانات باستخدام الذكاء الاصطناعي للتنبؤ بالمشكلات المحتملة</p>
            <p>• رفع مستوى الوعي المجتمعي بأهمية الحفاظ على مصادر المياه</p>
        </div>
        
        <div class="detail-card">
            <h3><i class="fas fa-cogs"></i> التقنيات المستخدمة</h3>
            <div class="tech-stack">
                <span class="tech-badge"><i class="fas fa-microchip"></i> أجهزة استشعار IoT</span>
                <span class="tech-badge"><i class="fas fa-sun"></i> الطاقة الشمسية</span>
                <span class="tech-badge"><i class="fas fa-brain"></i> الذكاء الاصطناعي</span>
                <span class="tech-badge"><i class="fas fa-cloud"></i> الحوسبة السحابية</span>
                <span class="tech-badge"><i class="fas fa-chart-line"></i> تحليل البيانات</span>
                <span class="tech-badge"><i class="fas fa-map-marked-alt"></i> نظام المعلومات الجغرافية</span>
                <span class="tech-badge"><i class="fas fa-mobile-alt"></i> تطبيقات الجوال</span>
                <span class="tech-badge"><i class="fas fa-shield-alt"></i> أمن المعلومات</span>
            </div>
        </div>
        
        <div class="detail-card">
            <h3><i class="fas fa-trophy"></i> الإنجازات المتوقعة</h3>
            <p>• خفض تكاليف المراقبة بنسبة 60%</p>
            <p>• تحسين دقة القياسات بنسبة 95%</p>
            <p>• تقليل وقت الاستجابة للطوارئ بنسبة 80%</p>
            <p>• توفير طاقة نظيفة بنسبة 100% للتشغيل</p>
            <p>• زيادة وعي المجتمع بأهمية جودة المياه</p>
            <p>• تحسين إدارة الموارد المائية</p>
            <p>• دعم اتخاذ القرارات بناءً على بيانات دقيقة</p>
        </div>
    </div>

    <!-- قسم أهمية المياه -->
    <div class="water-importance" style="margin: 40px 0;">
        <h1><i class="fas fa-tint"></i> أهمية المياه في حياتنا</h1>
        <p style="font-size: 1.2rem; margin-top: 20px;">الماء هو سر الحياة، يشكل 70% من أجسامنا و 71% من كوكب الأرض. حفاظنا عليه هو حفاظ على مستقبلنا</p>
        
        <div class="importance-grid" style="margin-top: 30px;">
            <div class="importance-card">
                <div class="importance-icon">
                    <i class="fas fa-heartbeat"></i>
                </div>
                <h3>الصحة البشرية</h3>
                <p>الماء النظيف ضروري للشرب والنظافة والوقاية من الأمراض</p>
            </div>
            
            <div class="importance-card">
                <div class="importance-icon">
                    <i class="fas fa-seedling"></i>
                </div>
                <h3>الزراعة والغذاء</h3>
                <p>70% من المياه العذبة تستخدم في الزراعة لإنتاج غذاء العالم</p>
            </div>
            
            <div class="importance-card">
                <div class="importance-icon">
                    <i class="fas fa-industry"></i>
                </div>
                <h3>الصناعة والاقتصاد</h3>
                <p>الماء يدخل في جميع الصناعات من الغذاء والدواء إلى الطاقة</p>
            </div>
        </div>
    </div>

    <!-- قسم فوائد النظام -->
    <h2 class="section-title"><i class="fas fa-star"></i> فوائد النظام</h2>
    
    <div class="features" style="margin: 30px 0;">
        <div class="feature-card">
            <div class="feature-icon">
                <i class="fas fa-bolt"></i>
            </div>
            <h3>مراقبة في الوقت الحقيقي</h3>
            <p>تقديم قراءات مباشرة ودقيقة لجودة المياه كل 10 دقائق</p>
        </div>
        
        <div class="feature-card">
            <div class="feature-icon">
                <i class="fas fa-sun"></i>
            </div>
            <h3>طاقة مستدامة</h3>
            <p>تشغيل النظام بالكامل بالطاقة الشمسية النظيفة</p>
        </div>
        
        <div class="feature-card">
            <div class="feature-icon">
                <i class="fas fa-chart-line"></i>
            </div>
            <h3>تحليلات ذكية</h3>
            <p>استخدام الذكاء الاصطناعي للتنبؤ بالمشكلات المحتملة</p>
        </div>
        
        <div class="feature-card">
            <div class="feature-icon">
                <i class="fas fa-mobile-alt"></i>
            </div>
            <h3>سهولة الوصول</h3>
            <p>واجهة مستخدم بسيطة وتطبيقات جوال للجميع</p>
        </div>
    </div>

    <!-- معرض صور المشروع -->
    <h2 class="section-title"><i class="fas fa-images"></i> معرض المشروع</h2>
    
    <div class="image-gallery">
        <div class="gallery-item">
            <img src="https://images.unsplash.com/photo-1544551763-46a013bb70d5?ixlib=rb-1.2.1&auto=format&fit=crop&w=800&q=80" alt="محطة مراقبة المياه">
            <div class="gallery-overlay">
                <h4>محطة مراقبة ذكية</h4>
                <p>محطات مزودة بأحدث أجهزة الاستشعار</p>
            </div>
        </div>
        
        <div class="gallery-item">
            <img src="https://images.unsplash.com/photo-1506905925346-21bda4d32df4?ixlib=rb-1.2.1&auto=format&fit=crop&w=800&q=80" alt="الألواح الشمسية">
            <div class="gallery-overlay">
                <h4>نظام الطاقة الشمسية</h4>
                <p>تشغيل مستدام بالطاقة النظيفة</p>
            </div>
        </div>
        
        <div class="gallery-item">
            <img src="https://images.unsplash.com/photo-1558618666-fcd25c85cd64?ixlib=rb-1.2.1&auto=format&fit=crop&w=800&q=80" alt="لوحة التحكم">
            <div class="gallery-overlay">
                <h4>لوحة تحكم متقدمة</h4>
                <p>مراقبة وتحليل في الوقت الحقيقي</p>
            </div>
        </div>
        
        <div class="gallery-item">
            <img src="https://images.unsplash.com/photo-1581094794329-c8112a89af12?ixlib=rb-1.2.1&auto=format&fit=crop&w=800&q=80" alt="جهاز استشعار المياه">
            <div class="gallery-overlay">
                <h4>أجهزة الاستشعار</h4>
                <p>تقنيات متطورة لقياس جودة المياه</p>
            </div>
        </div>
        
        <div class="gallery-item">
            <img src="https://images.unsplash.com/photo-1559136555-9303baea8ebd?ixlib=rb-1.2.1&auto=format&fit=crop&w=800&q=80" alt="التجارب الميدانية">
            <div class="gallery-overlay">
                <h4>التجارب الميدانية</h4>
                <p>اختبار النظام في المواقع الحقيقية</p>
            </div>
        </div>
        
        <div class="gallery-item">
            <img src="https://images.unsplash.com/photo-1532094349884-543bc11b234d?ixlib=rb-1.2.1&auto=format&fit=crop&w=800&q=80" alt="فريق العمل">
            <div class="gallery-overlay">
                <h4>فريق العمل</h4>
                <p>طلاب متخصصون في التقنية والبيئة</p>
            </div>
        </div>
    </div>

    <!-- حقائق مهمة عن المياه -->
    <div class="solar-benefits" style="margin: 40px 0;">
        <h3 style="margin-bottom: 20px; color: var(--primary);">
            <i class="fas fa-lightbulb"></i> حقائق مهمة عن المياه
        </h3>
        <div class="benefits-grid">
            <div class="benefit-item">
                <i class="fas fa-exclamation-triangle" style="color: var(--danger);"></i>
                <div>
                    <h4 style="margin-bottom: 5px;">أزمة عالمية</h4>
                    <p style="font-size: 0.9rem; color: #666;">2.2 مليار شخص حول العالم لا يحصلون على مياه شرب آمنة</p>
                </div>
            </div>
            
            <div class="benefit-item">
                <i class="fas fa-prescription-bottle" style="color: var(--warning);"></i>
                <div>
                    <h4 style="margin-bottom: 5px;">صحة عامة</h4>
                    <p style="font-size: 0.9rem; color: #666;">المياه الملوثة تسبب أكثر من 485,000 حالة وفاة سنوياً</p>
                </div>
            </div>
            
            <div class="benefit-item">
                <i class="fas fa-leaf" style="color: var(--success);"></i>
                <div>
                    <h4 style="margin-bottom: 5px;">بيئة مستدامة</h4>
                    <p style="font-size: 0.9rem; color: #666;">حماية الأنهار والبحيرات ضرورية للتنوع البيولوجي</p>
                </div>
            </div>
            
            <div class="benefit-item">
                <i class="fas fa-dollar-sign" style="color: var(--primary);"></i>
                <div>
                    <h4 style="margin-bottom: 5px;">تكلفة اقتصادية</h4>
                    <p style="font-size: 0.9rem; color: #666;">تلوث المياه يكلف الاقتصاد العالمي مليارات الدولارات سنوياً</p>
                </div>
            </div>
        </div>
    </div>

    مراحل التنفيذ
    <h2 class="section-title"><i class="fas fa-project-diagram"></i> مراحل التنفيذ</h2>
    
    <div class="timeline">
        <div class="timeline-item completed">
            <h3>المرحلة الأولى: التصميم والتخطيط</h3>
            <p>تحليل المتطلبات وتصميم النظام وهندسة الحلول التقنية</p>
            <small>تم الانتهاء: سبتمبر 2023</small>
        </div>
        
        <div class="timeline-item completed">
            <h3>المرحلة الثانية: التطوير</h3>
            <p>برمجة النظام وتطوير الواجهات وبناء قاعدة البيانات</p>
            <small>تم الانتهاء: ديسمبر 2023</small>
        </div>
        
        <div class="timeline-item current">
            <h3>المرحلة الثالثة: النشر والتجربة</h3>
            <p>تركيب المحطات والتجربة الميدانية وضبط المعايير</p>
            <small>قيد التنفيذ: يناير 2024 - مارس 2024</small>
        </div>
        
        <div class="timeline-item">
            <h3>المرحلة الرابعة: التشغيل الكامل</h3>
            <p>بدء التشغيل الرسمي والتدريب والصيانة الدورية</p>
            <small>مخطط: أبريل 2024</small>
        </div>
        
        <div class="timeline-item">
            <h3>المرحلة الخامسة: التوسع</h3>
            <p>توسيع نطاق النظام ليشمل مناطق إضافية</p>
            <small>مخطط: يوليو 2024</small>
        </div>
    </div>

    <!-- الشركاء والداعمون -->
    <div class="detail-card" style="margin-top: 40px;">
        <h3><i class="fas fa-handshake"></i> الشركاء والداعمون</h3>
        <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 20px; margin-top: 20px;">
            <div style="text-align: center; padding: 15px; background: rgba(44, 127, 184, 0.05); border-radius: 10px;">
                <i class="fas fa-university" style="font-size: 2rem; color: var(--primary); margin-bottom: 10px;"></i>
                <h4>جامعة المنصورة</h4>
                <p>كلية الحاسبات والمعلومات</p>
            </div>
            
            <div style="text-align: center; padding: 15px; background: rgba(44, 127, 184, 0.05); border-radius: 10px;">
                <i class="fas fa-water" style="font-size: 2rem; color: var(--primary); margin-bottom: 10px;"></i>
                <h4>وزارة الموارد المائية</h4>
                <p>جهاز شئون البيئة</p>
            </div>
            
            <div style="text-align: center; padding: 15px; background: rgba(44, 127, 184, 0.05); border-radius: 10px;">
                <i class="fas fa-globe" style="font-size: 2rem; color: var(--primary); margin-bottom: 10px;"></i>
                <h4>منظمة الصحة العالمية</h4>
                <p>WHO</p>
            </div>
            
            <div style="text-align: center; padding: 15px; background: rgba(44, 127, 184, 0.05); border-radius: 10px;">
                <i class="fas fa-flask" style="font-size: 2rem; color: var(--primary); margin-bottom: 10px;"></i>
                <h4>مركز بحوث المياه</h4>
                <p>مراكز الأبحاث المتخصصة</p>
            </div>
        </div>
    </div>

    <!-- خاتمة -->
    <div class="card" style="margin-top: 40px; padding: 30px; background: linear-gradient(135deg, rgba(44, 127, 184, 0.1), rgba(44, 127, 184, 0.05)); border-right: 4px solid var(--primary);">
        <h3 style="color: var(--primary); margin-bottom: 20px;">
            <i class="fas fa-flag-checkered"></i> رؤيتنا للمستقبل
        </h3>
        <p style="line-height: 1.8; font-size: 1.1rem;">
            نطمح أن يكون نظام "شريان الحياة الذكي" نموذجاً يُحتذى به في مجال مراقبة جودة المياه على مستوى الوطن العربي والعالم. نسعى لنشر النظام في جميع المناطق التي تعاني من نقص في أنظمة المراقبة الفعالة، ونعمل على تطويره باستمرار ليشمل مزيداً من المعايير والوظائف الذكية.
        </p>
        <p style="line-height: 1.8; font-size: 1.1rem; margin-top: 15px;">
            نؤمن بأن الحلول التقنية المبتكرة والمستدامة هي مفتاح التغلب على التحديات البيئية، ونحن فخورون بأن نكون جزءاً من هذه الرحلة نحو مستقبل أفضل لأجيالنا القادمة.
        </p>
    </div>
</div>

            <!-- صفحة لوحة البيانات - محسنة -->
            <div class="page" id="dashboard-page">
                <div class="header">
                    <h2>لوحة متابعة جودة المياه</h2>
                    <div class="quick-actions">
                        <button class="action-btn">
                            <div class="action-icon">
                                <i class="fas fa-download"></i>
                            </div>
                            <span>تصدير التقرير</span>
                        </button>
                        <button class="action-btn">
                            <div class="action-icon">
                                <i class="fas fa-bell"></i>
                            </div>
                            <span>الإشعارات</span>
                        </button>
                        <button class="action-btn">
                            <div class="action-icon">
                                <i class="fas fa-sync-alt"></i>
                            </div>
                            <span>تحديث البيانات</span>
                        </button>
                    </div>
                </div>

                <div class="dashboard-alerts">
                    <h3 style="color: white; margin-bottom: 20px;">
                        <i class="fas fa-exclamation-circle"></i> تنبيهات النظام
                    </h3>
                    <div class="alert-item">
                        <i class="fas fa-exclamation-triangle" style="font-size: 1.5rem;"></i>
                        <div>
                            <h4 style="margin-bottom: 5px;">محطة فرع رشيد تحت المراقبة</h4>
                            <p>ارتفاع مستوى العكورة إلى 4.2 NTU</p>
                        </div>
                    </div>
                    <div class="alert-item">
                        <i class="fas fa-check-circle" style="font-size: 1.5rem;"></i>
                        <div>
                            <h4 style="margin-bottom: 5px;">جميع المحطات الأخرى مستقرة</h4>
                            <p>المعايير ضمن المعدلات الطبيعية</p>
                        </div>
                    </div>
                </div>

                <div class="stats-cards">
                    <div class="card stat-card">
                        <div class="stat-icon ph-icon">
                            <i class="fas fa-vial"></i>
                        </div>
                        <div class="stat-info">
                            <h3>7.2</h3>
                            <p>الأس الهيدروجيني (pH)</p>
                            <div class="trend up">
                                <i class="fas fa-arrow-up"></i>
                                <span>مستقر</span>
                            </div>
                        </div>
                    </div>

                    <div class="card stat-card">
                        <div class="stat-icon turbidity-icon">
                            <i class="fas fa-water"></i>
                        </div>
                        <div class="stat-info">
                            <h3>2.1 NTU</h3>
                            <p>العكورة</p>
                            <div class="trend down">
                                <i class="fas fa-arrow-down"></i>
                                <span>في تحسن</span>
                            </div>
                        </div>
                    </div>

                    <div class="card stat-card">
                        <div class="stat-icon oxygen-icon">
                            <i class="fas fa-wind"></i>
                        </div>
                        <div class="stat-info">
                            <h3>8.4 mg/L</h3>
                            <p>الأكسجين الذائب</p>
                            <div class="trend up">
                                <i class="fas fa-arrow-up"></i>
                                <span>مستقر</span>
                            </div>
                        </div>
                    </div>

                    <div class="card stat-card">
                        <div class="stat-icon temp-icon">
                            <i class="fas fa-thermometer-half"></i>
                        </div>
                        <div class="stat-info">
                            <h3>24°C</h3>
                            <p>درجة الحرارة</p>
                            <div class="trend up">
                                <i class="fas fa-arrow-up"></i>
                                <span>في ارتفاع</span>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="charts">
                    <div class="chart-container">
                        <div class="chart-header">
                            <h3>تطور جودة المياه خلال الأسبوع</h3>
                            <div class="control-group" style="margin: 0;">
                                <button class="control-btn active" data-chart="weekly">
                                    أسبوعي
                                </button>
                                <button class="control-btn" data-chart="monthly">
                                    شهري
                                </button>
                            </div>
                        </div>
                        <div class="chart-wrapper">
                            <canvas id="waterQualityChart"></canvas>
                        </div>
                    </div>

                    <div class="chart-container">
                        <div class="chart-header">
                            <h3>توزيع حالات المحطات</h3>
                        </div>
                        <div class="chart-wrapper">
                            <canvas id="stationsStatusChart"></canvas>
                        </div>
                    </div>
                </div>

                <div class="stations">
                    <div class="stations-header">
                        <h3>محطات المراقبة</h3>
                        <button class="btn-save" style="padding: 8px 20px;">
                            <i class="fas fa-plus"></i> إضافة محطة جديدة
                        </button>
                    </div>
                    <table class="stations-table">
                        <thead>
                            <tr>
                                <th>الحالة</th>
                                <th>المكان</th>
                                <th>آخر قراءة</th>
                                <th>pH</th>
                                <th>العكورة</th>
                                <th>الأكسجين</th>
                                <th>الإجراءات</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td><span class="status status-normal">طبيعي</span></td>
                                <td>محطة النيل الرئيسية</td>
                                <td>منذ 5 دقائق</td>
                                <td>7.2</td>
                                <td>1.8</td>
                                <td>8.5</td>
                                <td>
                                    <button style="background: none; border: none; color: var(--primary); cursor: pointer;" title="عرض التفاصيل">
                                        <i class="fas fa-eye"></i>
                                    </button>
                                </td>
                            </tr>
                            <tr>
                                <td><span class="status status-warning">تحذير</span></td>
                                <td>فرع رشيد</td>
                                <td>منذ 12 دقيقة</td>
                                <td>6.8</td>
                                <td>4.2</td>
                                <td>6.1</td>
                                <td>
                                    <button style="background: none; border: none; color: var(--warning); cursor: pointer;" title="إرسال فريق الصيانة">
                                        <i class="fas fa-tools"></i>
                                    </button>
                                </td>
                            </tr>
                            <tr>
                                <td><span class="status status-normal">طبيعي</span></td>
                                <td>فرع دمياط</td>
                                <td>منذ 8 دقائق</td>
                                <td>7.4</td>
                                <td>2.1</td>
                                <td>7.9</td>
                                <td>
                                    <button style="background: none; border: none; color: var(--primary); cursor: pointer;" title="عرض التفاصيل">
                                        <i class="fas fa-eye"></i>
                                    </button>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>

                <div class="detail-card" style="margin-top: 30px;">
                    <h3><i class="fas fa-chart-line"></i> تحليل الأداء</h3>
                    <p>• معدل التغير في جودة المياه: <span class="stat-badge success">+2.3%</span></p>
                    <p>• نسبة استقرار المحطات: <span class="stat-badge primary">85%</span></p>
                    <p>• وقت التشغيل بدون أعطال: <span class="stat-badge success">99.8%</span></p>
                    <p>• كفاءة النظام الشمسي: <span class="stat-badge warning">92%</span></p>
                    <div style="margin-top: 20px;">
                        <p><strong>توصيات:</strong></p>
                        <p>✓ زيادة فحص محطة فرع رشيد</p>
                        <p>✓ إجراء صيانة دورية للألواح الشمسية</p>
                        <p>✓ تحديث بيانات المحطات كل 6 ساعات</p>
                    </div>
                </div>
            </div>

            <!-- صفحة الخريطة التفاعلية - محسنة -->
            <div class="page" id="map-page">
                <div class="header">
                    <h2>الخريطة التفاعلية</h2>
                </div>

                <div class="map-controls">
                    <h3 style="margin-bottom: 20px; color: var(--primary);">
                        <i class="fas fa-filter"></i> تصفية المحطات
                    </h3>
                    
                    <div class="control-group">
                        <button class="control-btn active" data-filter="all">
                            <i class="fas fa-globe"></i> جميع المحطات
                        </button>
                        <button class="control-btn" data-filter="normal">
                            <i class="fas fa-check-circle"></i> محطات طبيعية
                        </button>
                        <button class="control-btn" data-filter="warning">
                            <i class="fas fa-exclamation-triangle"></i> محطات تحذير
                        </button>
                        <button class="control-btn" data-filter="critical">
                            <i class="fas fa-skull-crossbones"></i> محطات حرجة
                        </button>
                    </div>
                    
                    <div class="control-group">
                        <button class="control-btn" data-layer="satellite">
                            <i class="fas fa-satellite"></i> عرض القمر الصناعي
                        </button>
                        <button class="control-btn active" data-layer="street">
                            <i class="fas fa-map"></i> عرض الشوارع
                        </button>
                        <button class="control-btn" id="refresh-map">
                            <i class="fas fa-sync-alt"></i> تحديث البيانات
                        </button>
                    </div>
                </div>

                <div class="map-container">
                    <div id="map"></div>
                </div>

                <div class="station-details">
                    <h3 style="margin-bottom: 20px; color: var(--primary);">
                        <i class="fas fa-info-circle"></i> تفاصيل المحطة المحددة
                    </h3>
                    
                    <div id="selected-station-info" style="text-align: center; padding: 20px; background: rgba(44, 127, 184, 0.05); border-radius: 10px;">
                        <p style="color: var(--gray);">اضغط على أي محطة في الخريطة لعرض تفاصيلها</p>
                    </div>
                    
                    <div id="station-metrics" class="station-info-grid" style="display: none;">
                        <div class="station-metric">
                            <i class="fas fa-vial" style="font-size: 2rem; color: var(--primary);"></i>
                            <div class="station-metric-value" id="station-ph">7.2</div>
                            <p>الأس الهيدروجيني</p>
                        </div>
                        
                        <div class="station-metric">
                            <i class="fas fa-water" style="font-size: 2rem; color: var(--secondary);"></i>
                            <div class="station-metric-value" id="station-turbidity">2.1</div>
                            <p>العكورة (NTU)</p>
                        </div>
                        
                        <div class="station-metric">
                            <i class="fas fa-wind" style="font-size: 2rem; color: var(--success);"></i>
                            <div class="station-metric-value" id="station-oxygen">8.4</div>
                            <p>الأكسجين الذائب</p>
                        </div>
                        
                        <div class="station-metric">
                            <i class="fas fa-thermometer-half" style="font-size: 2rem; color: var(--warning);"></i>
                            <div class="station-metric-value" id="station-temperature">24°C</div>
                            <p>درجة الحرارة</p>
                        </div>
                    </div>
                </div>

                <div class="detail-card" style="margin-top: 30px;">
                    <h3><i class="fas fa-chart-bar"></i> إحصائيات الخريطة</h3>
                    <p>• عدد المحطات النشطة: <strong>12 محطة</strong></p>
                    <p>• المحطات الطبيعية: <strong style="color: var(--success);">8 محطات</strong></p>
                    <p>• المحطات تحت المراقبة: <strong style="color: var(--warning);">3 محطات</strong></p>
                    <p>• المحطات الحرجة: <strong style="color: var(--danger);">1 محطة</strong></p>
                    <p>• آخر تحديث: <strong>منذ 5 دقائق</strong></p>
                    <p>• نسبة تغطية الشبكة: <strong>85% من المناطق المستهدفة</strong></p>
                </div>
            </div>

            <!-- صفحة الطاقة الشمسية - محسنة -->
            <div class="page" id="solar-page">
                <div class="header">
                    <h2>نظام الطاقة الشمسية</h2>
                </div>

                <div class="hero-section" style="background: linear-gradient(135deg, #f9c74f, #f9844a);">
                    <h1>تشغيل مستدام بالطاقة الشمسية</h1>
                    <p>نظام كامل لتشغيل محطات مراقبة جودة المياه باستخدام الطاقة النظيفة والمتجددة</p>
                </div>

                <div class="solar-stats">
                    <div class="card stat-card">
                        <div class="stat-icon solar-icon">
                            <i class="fas fa-sun"></i>
                        </div>
                        <div class="stat-info">
                            <h3>85%</h3>
                            <p>كفاءة الألواح الشمسية</p>
                            <div class="trend up">
                                <i class="fas fa-arrow-up"></i>
                                <span>ممتاز</span>
                            </div>
                        </div>
                    </div>

                    <div class="card stat-card">
                        <div class="stat-icon solar-icon">
                            <i class="fas fa-bolt"></i>
                        </div>
                        <div class="stat-info">
                            <h3>2.4 kW</h3>
                            <p>طاقة إنتاجية يومية</p>
                            <div class="trend up">
                                <i class="fas fa-arrow-up"></i>
                                <span>كافية</span>
                            </div>
                        </div>
                    </div>

                    <div class="card stat-card">
                        <div class="stat-icon solar-icon">
                            <i class="fas fa-battery-full"></i>
                        </div>
                        <div class="stat-info">
                            <h3>18 ساعة</h3>
                            <p>تشغيل مستمر بالبطاريات</p>
                            <div class="trend up">
                                <i class="fas fa-arrow-up"></i>
                                <span>مستقر</span>
                            </div>
                        </div>
                    </div>

                    <div class="card stat-card">
                        <div class="stat-icon solar-icon">
                            <i class="fas fa-leaf"></i>
                        </div>
                        <div class="stat-info">
                            <h3>2.1 طن</h3>
                            <p>انبعاثات كربونية موفرة</p>
                            <div class="trend down">
                                <i class="fas fa-arrow-down"></i>
                                <span>صديق للبيئة</span>
                            </div>
                        </div>
                    </div>
                </div>

                <h2 class="section-title"><i class="fas fa-solar-panel"></i> مكونات النظام الشمسي</h2>
                
                <div class="solar-system">
                    <div class="solar-component">
                        <div class="solar-component-icon">
                            <i class="fas fa-sun"></i>
                        </div>
                        <h3>الألواح الشمسية</h3>
                        <p>8 ألواح - 300 واط لكل لوح</p>
                        <p>إجمالي الطاقة: 2400 واط</p>
                        <p>الكفاءة: 21%</p>
                    </div>
                    
                    <div class="solar-component">
                        <div class="solar-component-icon">
                            <i class="fas fa-battery-full"></i>
                        </div>
                        <h3>نظام البطاريات</h3>
                        <p>4 بطاريات ليثيوم</p>
                        <p>السعة: 200 أمبير/ساعة</p>
                        <p>العمر الافتراضي: 5 سنوات</p>
                    </div>
                    
                    <div class="solar-component">
                        <div class="solar-component-icon">
                            <i class="fas fa-tachometer-alt"></i>
                        </div>
                        <h3>منظم الشحن</h3>
                        <p>نوع MPPT</p>
                        <p>السعة: 60 أمبير</p>
                        <p>الكفاءة: 98%</p>
                    </div>
                    
                    <div class="solar-component">
                        <div class="solar-component-icon">
                            <i class="fas fa-exchange-alt"></i>
                        </div>
                        <h3>العاكس (Inverter)</h3>
                        <p>القدرة: 3000 واط</p>
                        <p>النوع: موجة جيبية نقية</p>
                        <p>الكفاءة: 95%</p>
                    </div>
                </div>

                <div class="solar-simulation">
                    <h3 style="margin-bottom: 20px; color: var(--solar);">
                        <i class="fas fa-chart-line"></i> محاكاة إنتاج الطاقة
                    </h3>
                    
                    <div class="simulation-controls">
                        <button class="control-btn active" data-period="today">
                            اليوم
                        </button>
                        <button class="control-btn" data-period="week">
                            الأسبوع
                        </button>
                        <button class="control-btn" data-period="month">
                            الشهر
                        </button>
                    </div>
                    
                    <div class="chart-wrapper" style="height: 200px; margin-top: 20px;">
                        <canvas id="solarProductionChart"></canvas>
                    </div>
                    
                    <div style="text-align: center; margin-top: 20px;">
                        <p>إنتاج الطاقة اليوم: <strong>8.2 كيلوواط/ساعة</strong></p>
                        <p>استهلاك النظام: <strong>6.5 كيلوواط/ساعة</strong></p>
                        <p>الفائض المخزن: <strong>1.7 كيلوواط/ساعة</strong></p>
                    </div>
                </div>

                <div class="solar-benefits">
                    <h3 style="margin-bottom: 20px; color: var(--primary);">
                        <i class="fas fa-award"></i> فوائد النظام الشمسي
                    </h3>
                    <div class="benefits-grid">
                        <div class="benefit-item">
                            <i class="fas fa-infinity"></i>
                            <div>
                                <h4 style="margin-bottom: 5px;">استدامة</h4>
                                <p style="font-size: 0.9rem; color: #666;">مصدر طاقة متجدد لا ينضب</p>
                            </div>
                        </div>
                        <div class="benefit-item">
                            <i class="fas fa-money-bill-wave"></i>
                            <div>
                                <h4 style="margin-bottom: 5px;">اقتصادي</h4>
                                <p style="font-size: 0.9rem; color: #666;">توفير 100% من فواتير الكهرباء</p>
                            </div>
                        </div>
                        <div class="benefit-item">
                            <i class="fas fa-tools"></i>
                            <div>
                                <h4 style="margin-bottom: 5px;">قليل الصيانة</h4>
                                <p style="font-size: 0.9rem; color: #666;">تكاليف صيانة منخفضة جداً</p>
                            </div>
                        </div>
                        <div class="benefit-item">
                            <i class="fas fa-map-marker-alt"></i>
                            <div>
                                <h4 style="margin-bottom: 5px;">مرونة</h4>
                                <p style="font-size: 0.9rem; color: #666;">يعمل في المناطق النائية</p>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="image-gallery" style="margin-top: 40px;">
                    <div class="gallery-item">
                        <img src="https://images.unsplash.com/photo-1509391366360-2e959784a276?ixlib=rb-1.2.1&auto=format&fit=crop&w=800&q=80" alt="الألواح الشمسية">
                        <div class="gallery-overlay">
                            <h4>تركيب الألواح الشمسية</h4>
                            <p>نظام كامل 2.4 كيلوواط</p>
                        </div>
                    </div>
                    
                    <div class="gallery-item">
                        <img src="https://images.unsplash.com/photo-1624395213043-fa2e123b2656?ixlib=rb-1.2.1&auto=format&fit=crop&w=800&q=80" alt="نظام البطاريات">
                        <div class="gallery-overlay">
                            <h4>نظام تخزين الطاقة</h4>
                            <p>بطاريات ليثيوم عالية الكفاءة</p>
                        </div>
                    </div>
                    
                    <div class="gallery-item">
                        <img src="https://images.unsplash.com/photo-1558449028-b53a39d100fc?ixlib=rb-1.2.1&auto=format&fit=crop&w=800&q=80" alt="مراقبة النظام">
                        <div class="gallery-overlay">
                            <h4>مراقبة الأداء</h4>
                            <p>نظام تحكم ومراقبة متكامل</p>
                        </div>
                    </div>
                </div>
            </div>

            <!-- صفحة نصائح المياه - محسنة -->
            <div class="page" id="tips-page">
                <div class="header">
                    <h2>نصائح وإرشادات المياه</h2>
                </div>

                <div class="water-importance">
                    <h1><i class="fas fa-tint"></i> أهمية المياه في حياتنا</h1>
                    <p style="font-size: 1.2rem; margin-top: 20px;">الماء هو سر الحياة، يشكل 70% من أجسامنا و 71% من كوكب الأرض. حفاظنا عليه هو حفاظ على مستقبلنا</p>
                </div>

                <div class="importance-grid">
                    <div class="importance-card">
                        <div class="importance-icon">
                            <i class="fas fa-heart"></i>
                        </div>
                        <h3>الصحة والعافية</h3>
                        <p>الماء ينظم درجة حرارة الجسم، ينقل المغذيات، يخلص الجسم من السموم، ويساعد في الهضم</p>
                    </div>
                    
                    <div class="importance-card">
                        <div class="importance-icon">
                            <i class="fas fa-industry"></i>
                        </div>
                        <h3>الاقتصاد والصناعة</h3>
                        <p>الماء يدخل في جميع الصناعات من الغذاء والدواء إلى الطاقة والبناء</p>
                    </div>
                    
                    <div class="importance-card">
                        <div class="importance-icon">
                            <i class="fas fa-seedling"></i>
                        </div>
                        <h3>الزراعة والغذاء</h3>
                        <p>70% من المياه العذبة تستخدم في الزراعة لإنتاج غذاء العالم</p>
                    </div>
                </div>

                <h2 class="section-title"><i class="fas fa-chart-pie"></i> حقائق مائية مذهلة</h2>
                
                <div class="water-facts">
                    <div class="fact-card">
                        <div class="fact-number">97%</div>
                        <h3>مياه مالحة</h3>
                        <p>من إجمالي مياه الأرض هي مياه مالحة في المحيطات</p>
                    </div>
                    
                    <div class="fact-card">
                        <div class="fact-number">2.5%</div>
                        <h3>مياه عذبة</h3>
                        <p>فقط من مياه الأرض صالحة للاستخدام البشري</p>
                    </div>
                    
                    <div class="fact-card">
                        <div class="fact-number">1%</div>
                        <h3>مياه متاحة</h3>
                        <p>من المياه العذبة متاحة للاستخدام بشكل مباشر</p>
                    </div>
                    
                    <div class="fact-card">
                        <div class="fact-number">783M</div>
                        <h3>شخص</h3>
                        <p>حول العالم لا يحصلون على مياه شرب نظيفة</p>
                    </div>
                </div>

                <h2 class="section-title"><i class="fas fa-lightbulb"></i> نصائح ذهبية للمياه</h2>
                
                <div class="water-tips-gallery">
                    <div class="tip-card">
                        <div class="tip-image">
                            <img src="https://images.unsplash.com/photo-1558618666-fcd25c85cd64?ixlib=rb-1.2.1&auto=format&fit=crop&w=800&q=80" alt="ترشيد الاستهلاك">
                        </div>
                        <div class="tip-content">
                            <span class="tip-tag"><i class="fas fa-leaf"></i> ترشيد الاستهلاك</span>
                            <h3>كيف توفر 50% من استهلاك المياه</h3>
                            <p>• استخدم الدش بدلاً من البانيو</p>
                            <p>• أصلح التسريبات فور اكتشافها</p>
                            <p>• استخدم غسالات موفرة للمياه</p>
                        </div>
                    </div>
                    
                    <div class="tip-card">
                        <div class="tip-image">
                            <img src="https://images.unsplash.com/photo-1544551763-46a013bb70d5?ixlib=rb-1.2.1&auto=format&fit=crop&w=800&q=80" alt="جودة المياه">
                        </div>
                        <div class="tip-content">
                            <span class="tip-tag"><i class="fas fa-filter"></i> جودة المياه</span>
                            <h3>كيف تتأكد من سلامة مياه الشرب</h3>
                            <p>• افحص اللون والرائحة والطعم</p>
                            <p>• استخدم فلاتر معتمدة</p>
                            <p>• قم بفحص دوري للمياه</p>
                        </div>
                    </div>
                    
                    <div class="tip-card">
                        <div class="tip-image">
                            <img src="https://images.unsplash.com/photo-1506905925346-21bda4d32df4?ixlib=rb-1.2.1&auto=format&fit=crop&w=800&q=80" alt="الصحة والمياه">
                        </div>
                        <div class="tip-content">
                            <span class="tip-tag"><i class="fas fa-heartbeat"></i> الصحة</span>
                            <h3>الماء وصحة جسمك</h3>
                            <p>• اشرب 8 أكواب ماء يومياً</p>
                            <p>• الماء يمنع الجفاف والتعب</p>
                            <p>• يحسن التركيز والذاكرة</p>
                        </div>
                    </div>
                </div>

                <div class="interactive-tip">
                    <h2 style="color: white; margin-bottom: 20px;">
                        <i class="fas fa-calculator"></i> حاسبة استهلاك المياه اليومي
                    </h2>
                    <p style="color: white; font-size: 1.1rem; margin-bottom: 30px;">
                        اكتشف كم تحتاج من الماء يومياً بناءً على وزنك ونشاطك
                    </p>
                    
                    <div class="water-calculator">
                        <div class="calculator-input">
                            <label>وزنك (كجم):</label>
                            <input type="number" id="weight-input" placeholder="أدخل وزنك" min="30" max="200" value="70">
                            <label>مستوى نشاطك:</label>
                            <select id="activity-level">
                                <option value="1.2">قليل النشاط</option>
                                <option value="1.375" selected>نشاط معتدل</option>
                                <option value="1.55">نشيط</option>
                                <option value="1.725">نشيط جداً</option>
                            </select>
                            <button class="btn-save" id="calculate-water">
                                <i class="fas fa-calculator"></i> احسب احتياجاتك
                            </button>
                        </div>
                        
                        <div class="calculator-result" id="water-result">
                            <h3 style="color: var(--primary); margin-bottom: 10px;">نتيجة الحساب</h3>
                            <p style="color: #000000;">احتياجاتك اليومية من الماء: <strong id="water-needs">2.5 لتر</strong></p>
                            <p style="color: #000000;">هذا يعادل: <strong id="water-equivalent">10 أكواب</strong></p>
                            <p style="color: #000000;"><small>نصيحة: وزع شرب الماء على مدار اليوم</small></p>
                        </div>
                    </div>
                </div>

                <div class="solar-benefits" style="margin-top: 40px;">
                    <h3 style="margin-bottom: 20px; color: var(--primary);">
                        <i class="fas fa-glass-whiskey"></i> وصفات مشروبات منعشة
                    </h3>
                    <div class="benefits-grid">
                        <div class="benefit-item" style="background: rgba(127, 205, 187, 0.1);">
                            <i class="fas fa-lemon" style="color: var(--secondary);"></i>
                            <div>
                                <h4 style="margin-bottom: 5px;">ماء الليمون والنعناع</h4>
                                <p style="font-size: 0.9rem; color: #666;">شرائح ليمون + أوراق نعناع + ماء بارد</p>
                            </div>
                        </div>
                        
                        <div class="benefit-item" style="background: rgba(253, 174, 107, 0.1);">
                            <i class="fas fa-apple-alt" style="color: var(--warning);"></i>
                            <div>
                                <h4 style="margin-bottom: 5px;">ماء التفاح والقرفة</h4>
                                <p style="font-size: 0.9rem; color: #666;">شرائح تفاح + عود قرفة + ماء</p>
                            </div>
                        </div>
                        
                        <div class="benefit-item" style="background: rgba(249, 199, 79, 0.1);">
                            <i class="fas fa-utensil-spoon" style="color: var(--solar);"></i>
                            <div>
                                <h4 style="margin-bottom: 5px;">ماء الخيار والنعناع</h4>
                                <p style="font-size: 0.9rem; color: #666;">شرائح خيار + نعناع + ليمون</p>
                            </div>
                        </div>
                        
                        <div class="benefit-item" style="background: rgba(230, 85, 90, 0.1);">
                            <i class="fas fa-ice-cream" style="color: var(--danger);"></i>
                            <div>
                                <h4 style="margin-bottom: 5px;">ماء التوت والفراولة</h4>
                                <p style="font-size: 0.9rem; color: #666;">توت + فراولة + أوراق ريحان</p>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="card" style="margin-top: 30px; padding: 30px; background: linear-gradient(135deg, rgba(44, 127, 184, 0.1), rgba(44, 127, 184, 0.05)); border-right: 4px solid var(--primary);">
                    <h3 style="color: var(--primary); margin-bottom: 20px;">
                        <i class="fas fa-graduation-cap"></i> هل تعلم؟
                    </h3>
                    <ul style="list-style: none; padding: 0;">
                        <li style="padding: 10px 0; border-bottom: 1px solid rgba(0,0,0,0.05);">
                            <i class="fas fa-check-circle" style="color: var(--success); margin-left: 10px;"></i>
                            شرب الماء الدافئ مع الليمون صباحاً ينقي الجسم من السموم
                        </li>
                        <li style="padding: 10px 0; border-bottom: 1px solid rgba(0,0,0,0.05);">
                            <i class="fas fa-check-circle" style="color: var(--success); margin-left: 10px;"></i>
                            الماء البارد يحرق سعرات حرارية أكثر من الماء الدافئ
                        </li>
                        <li style="padding: 10px 0; border-bottom: 1px solid rgba(0,0,0,0.05);">
                            <i class="fas fa-check-circle" style="color: var(--success); margin-left: 10px;"></i>
                            نقص الماء بنسبة 2% من وزن الجسم يضعف التركيز بنسبة 20%
                        </li>
                        <li style="padding: 10px 0;">
                            <i class="fas fa-check-circle" style="color: var(--success); margin-left: 10px;"></i>
                            الماء يساعد على تحسين المزاج والتقليل من التوتر
                        </li>
                    </ul>
                </div>
            </div>

            <!-- صفحة فريق العمل - محسنة -->
            <div class="page" id="team-page">
                <div class="header">
                    <h2>فريق عمل المشروع</h2>
                </div>

                <div class="hero-section" style="background: linear-gradient(135deg, #6a11cb, #2575fc);">
                    <h1><i class="fas fa-graduation-cap"></i> فريق مشروع التخرج</h1>
                    <p>طلاب قسم الحاسبات والمعلومات - جامعة المنصورة - دفعة 2024</p>
                </div>

                <div class="achievements">
                    <div class="achievement-card">
                        <div class="achievement-icon">
                            <i class="fas fa-trophy"></i>
                        </div>
                        <h3>أفضل مشروع تقني</h3>
                        <p>مسابقة الابتكار التقني 2024</p>
                    </div>
                    
                    <div class="achievement-card">
                        <div class="achievement-icon">
                            <i class="fas fa-medal"></i>
                        </div>
                        <h3>جائزة الاستدامة</h3>
                        <p>منظمة البيئة العالمية</p>
                    </div>
                    
                    <div class="achievement-card">
                        <div class="achievement-icon">
                            <i class="fas fa-award"></i>
                        </div>
                        <h3>جائزة الابتكار</h3>
                        <p>وزارة الاتصالات وتكنولوجيا المعلومات</p>
                    </div>
                </div>

                <div class="team-section">
                    <h3 style="text-align: center; color: var(--primary); margin-bottom: 10px;">
                        <i class="fas fa-chalkboard-teacher"></i> المشرفون على المشروع
                    </h3>
                    <div class="supervisors">
                        <div class="supervisor-card">
                            <div class="member-avatar" style="margin: 0 auto 20px;">
                                <img src="https://ui-avatars.com/api/?name=د.أحمد&background=2c7fb8&color=fff&size=100" alt="المشرف">
                            </div>
                            <h4 style="color: var(--primary); font-size: 1.3rem; margin-bottom: 10px;">أ.د/ أحمد أبو الفتاح</h4>
                            <p class="member-role" style="font-size: 1rem; margin-bottom: 15px;">المشرف الرئيسي</p>
                            <p style="color: #666; line-height: 1.8;">
                                أستاذ نظم المعلومات<br>
                                كلية الحاسبات والمعلومات<br>
                                جامعة المنصورة
                            </p>
                            <div style="margin-top: 15px;">
                                <span style="background: rgba(44, 127, 184, 0.1); color: var(--primary); padding: 5px 10px; border-radius: 15px; font-size: 0.8rem;">دكتوراه في إنترنت الأشياء</span>
                            </div>
                        </div>
                        <div class="supervisor-card">
                            <div class="member-avatar" style="margin: 0 auto 20px;">
                                <img src="https://ui-avatars.com/api/?name=م.رانيا&background=7fcdbb&color=fff&size=100" alt="المشرف">
                            </div>
                            <h4 style="color: var(--secondary); font-size: 1.3rem; margin-bottom: 10px;">م/ رانيا محمد</h4>
                            <p class="member-role" style="font-size: 1rem; margin-bottom: 15px;">المشرف المساعد</p>
                            <p style="color: #666; line-height: 1.8;">
                                مدرس مساعد<br>
                                قسم نظم المعلومات<br>
                                تخصص: إنترنت الأشياء
                            </p>
                            <div style="margin-top: 15px;">
                                <span style="background: rgba(127, 205, 187, 0.1); color: var(--secondary); padding: 5px 10px; border-radius: 15px; font-size: 0.8rem;">ماجستير في الذكاء الاصطناعي</span>
                            </div>
                        </div>
                    </div>
                </div>

                <h2 class="section-title"><i class="fas fa-users-cog"></i> أعضاء فريق العمل</h2>
                
                <div class="team-grid">
                    <div class="team-member">
                        <div class="member-avatar">
                            <!-- <img src="https://ui-avatars.com/api/?name=أحمد+محمد&background=2c7fb8&color=fff&size=100" alt="عضو">
                              -->
                            <img src="IMGS/IMG-20250115-WA0030.jpg" alt="">
                        </div>
                        <h4 style="font-size: 1.2rem; margin-bottom: 5px;"> احمد العدل</h4>
                        <h4 style="font-size: 1.2rem; margin-bottom: 5px;">منه الشافعى</h4>
                        <h4 style="font-size: 1.2rem; margin-bottom: 5px;">منه</h4>
                        <p class="member-role">Front end</p>
                        <p class="member-tasks">
                            <i class="fas fa-laptop-code"></i> تصميم وتطوير واجهة المستخدم<br>
                            <i class="fas fa-paint-brush"></i> تجربة المستخدم UX/UI<br>
                            <i class="fas fa-chart-line"></i> الرسوم البيانية التفاعلية
                        </p>
                        <div style="margin-top: 15px;">
                            <span class="stat-badge primary">HTML/CSS</span>
                            <span class="stat-badge primary">JavaScript</span>
                            <span class="stat-badge primary">bootstrap</span>
                        </div>

                    </div>
                    
                    <div class="team-member">
                        <div class="member-avatar">
                            <img src="https://ui-avatars.com/api/?name=محمود+علي&background=31a354&color=fff&size=100" alt="عضو">
                        </div>
                        <h4 style="font-size: 1.2rem; margin-bottom: 5px;">محمود علي حسن</h4>
                        <p class="member-role">مطور الواجهة الخلفية</p>
                        <p class="member-tasks">
                            <i class="fas fa-database"></i> تصميم قواعد البيانات<br>
                            <i class="fas fa-server"></i> واجهات برمجة التطبيقات API<br>
                            <i class="fas fa-network-wired"></i> إدارة الخوادم
                        </p>
                        <div style="margin-top: 15px;">
                            <span class="stat-badge success">Python</span>
                            <span class="stat-badge success">Django</span>
                            <span class="stat-badge success">MySQL</span>
                        </div>

                    </div>
                    
                    <div class="team-member">
                        <div class="member-avatar">
                            <img src="https://ui-avatars.com/api/?name=فاطمة+خالد&background=fdae6b&color=fff&size=100" alt="عضو">
                        </div>
                        <h4 style="font-size: 1.2rem; margin-bottom: 5px;">فاطمة خالد إبراهيم</h4>
                        <p class="member-role">محللة البيانات</p>
                        <p class="member-tasks">
                            <i class="fas fa-chart-bar"></i> تحليل البيانات والإحصاء<br>
                            <i class="fas fa-brain"></i> نماذج الذكاء الاصطناعي<br>
                            <i class="fas fa-file-alt"></i> إعداد التقارير
                        </p>
                        <div style="margin-top: 15px;">
                            <span class="stat-badge warning">Python</span>
                            <span class="stat-badge warning">Machine Learning</span>
                            <span class="stat-badge warning">Data Analysis</span>
                        </div>

                    </div>
                    
                    <div class="team-member">
                        <div class="member-avatar">
                            <img src="https://ui-avatars.com/api/?name=سارة+أحمد&background=e6555a&color=fff&size=100" alt="عضو">
                        </div>
                        <h4 style="font-size: 1.2rem; margin-bottom: 5px;">سارة أحمد محمود</h4>
                        <p class="member-role">خبيرة الجودة والاختبار</p>
                        <p class="member-tasks">
                            <i class="fas fa-clipboard-check"></i> اختبار النظام والجودة<br>
                            <i class="fas fa-bug"></i> اكتشاف وإصلاح الأخطاء<br>
                            <i class="fas fa-book"></i> التوثيق الفني
                        </p>
                        <div style="margin-top: 15px;">
                            <span class="stat-badge danger">QA Testing</span>
                            <span class="stat-badge danger">Documentation</span>
                            <span class="stat-badge danger">Debugging</span>
                        </div>

                    </div>
                </div>

                <div class="team-grid">
                    <div class="team-member">
                        <div class="member-avatar">
                            <img src="https://ui-avatars.com/api/?name=أحمد+محمد&background=2c7fb8&color=fff&size=100" alt="عضو">
                        </div>
                        <h4 style="font-size: 1.2rem; margin-bottom: 5px;">أحمد محمد علي</h4>
                        <p class="member-role">مطور الواجهة الأمامية</p>
                        <p class="member-tasks">
                            <i class="fas fa-laptop-code"></i> تصميم وتطوير واجهة المستخدم<br>
                            <i class="fas fa-paint-brush"></i> تجربة المستخدم UX/UI<br>
                            <i class="fas fa-chart-line"></i> الرسوم البيانية التفاعلية
                        </p>
                        <div style="margin-top: 15px;">
                            <span class="stat-badge primary">HTML/CSS</span>
                            <span class="stat-badge primary">JavaScript</span>
                            <span class="stat-badge primary">React</span>
                        </div>

                    </div>
                    
                    <div class="team-member">
                        <div class="member-avatar">
                            <img src="https://ui-avatars.com/api/?name=محمود+علي&background=31a354&color=fff&size=100" alt="عضو">
                        </div>
                        <h4 style="font-size: 1.2rem; margin-bottom: 5px;">محمود علي حسن</h4>
                        <p class="member-role">مطور الواجهة الخلفية</p>
                        <p class="member-tasks">
                            <i class="fas fa-database"></i> تصميم قواعد البيانات<br>
                            <i class="fas fa-server"></i> واجهات برمجة التطبيقات API<br>
                            <i class="fas fa-network-wired"></i> إدارة الخوادم
                        </p>
                        <div style="margin-top: 15px;">
                            <span class="stat-badge success">Python</span>
                            <span class="stat-badge success">Django</span>
                            <span class="stat-badge success">MySQL</span>
                        </div>

                    </div>
                    
                    <div class="team-member">
                        <div class="member-avatar">
                            <img src="https://ui-avatars.com/api/?name=فاطمة+خالد&background=fdae6b&color=fff&size=100" alt="عضو">
                        </div>
                        <h4 style="font-size: 1.2rem; margin-bottom: 5px;">فاطمة خالد إبراهيم</h4>
                        <p class="member-role">محللة البيانات</p>
                        <p class="member-tasks">
                            <i class="fas fa-chart-bar"></i> تحليل البيانات والإحصاء<br>
                            <i class="fas fa-brain"></i> نماذج الذكاء الاصطناعي<br>
                            <i class="fas fa-file-alt"></i> إعداد التقارير
                        </p>
                        <div style="margin-top: 15px;">
                            <span class="stat-badge warning">Python</span>
                            <span class="stat-badge warning">Machine Learning</span>
                            <span class="stat-badge warning">Data Analysis</span>
                        </div>

                    </div>
                    
                    <div class="team-member">
                        <div class="member-avatar">
                            <img src="https://ui-avatars.com/api/?name=سارة+أحمد&background=e6555a&color=fff&size=100" alt="عضو">
                        </div>
                        <h4 style="font-size: 1.2rem; margin-bottom: 5px;">سارة أحمد محمود</h4>
                        <p class="member-role">خبيرة الجودة والاختبار</p>
                        <p class="member-tasks">
                            <i class="fas fa-clipboard-check"></i> اختبار النظام والجودة<br>
                            <i class="fas fa-bug"></i> اكتشاف وإصلاح الأخطاء<br>
                            <i class="fas fa-book"></i> التوثيق الفني
                        </p>
                        <div style="margin-top: 15px;">
                            <span class="stat-badge danger">QA Testing</span>
                            <span class="stat-badge danger">Documentation</span>
                            <span class="stat-badge danger">Debugging</span>
                        </div>

                    </div>
                </div>

                <div class="solar-benefits" style="margin-top: 40px;">
                    <h3 style="margin-bottom: 20px; color: var(--primary);">
                        <i class="fas fa-info-circle"></i> معلومات المشروع
                    </h3>
                    <div class="setting-item">
                        <div class="setting-info">
                            <h5><i class="fas fa-project-diagram"></i> اسم المشروع</h5>
                            <p>نظام تتبع جودة المياه باستخدام تقنيات إنترنت الأشياء والطاقة الشمسية</p>
                        </div>
                    </div>
                    <div class="setting-item">
                        <div class="setting-info">
                            <h5><i class="fas fa-university"></i> الجامعة</h5>
                            <p>جامعة المنصورة - كلية الحاسبات والمعلومات</p>
                        </div>
                    </div>
                    <div class="setting-item">
                        <div class="setting-info">
                            <h5><i class="fas fa-graduation-cap"></i> القسم</h5>
                            <p>قسم نظم المعلومات</p>
                        </div>
                    </div>
                    <div class="setting-item">
                        <div class="setting-info">
                            <h5><i class="fas fa-calendar-alt"></i> سنة التخرج</h5>
                            <p>2024 - 2025</p>
                        </div>
                    </div>
                    <div class="setting-item">
                        <div class="setting-info">
                            <h5><i class="fas fa-microchip"></i> التقنيات المستخدمة</h5>
                            <p>IoT Sensors, Arduino, Raspberry Pi, Solar Panels, Web Technologies, Machine Learning</p>
                        </div>
                    </div>
                </div>

                <div class="image-gallery" style="margin-top: 40px;">
                    <div class="gallery-item">
                        <img src="https://images.unsplash.com/photo-1532094349884-543bc11b234d?ixlib=rb-1.2.1&auto=format&fit=crop&w=800&q=80" alt="فريق العمل">
                        <div class="gallery-overlay">
                            <h4>فريق العمل</h4>
                            <p>اجتماعات تخطيط المشروع</p>
                        </div>
                    </div>
                    
                    <div class="gallery-item">
                        <img src="https://images.unsplash.com/photo-1559136555-9303baea8ebd?ixlib=rb-1.2.1&auto=format&fit=crop&w=800&q=80" alt="التجارب الميدانية">
                        <div class="gallery-overlay">
                            <h4>التجارب الميدانية</h4>
                            <p>اختبار المحطات في الموقع</p>
                        </div>
                    </div>
                    
                    <div class="gallery-item">
                        <img src="https://images.unsplash.com/photo-1556761175-b413da4baf72?ixlib=rb-1.2.1&auto=format&fit=crop&w=800&q=80" alt="العرض النهائي">
                        <div class="gallery-overlay">
                            <h4>العرض النهائي</h4>
                            <p>عرض المشروع للجنة التحكيم</p>
                        </div>
                    </div>
                </div>
            </div>

            <!-- صفحة الإعدادات - محسنة -->
            <div class="page" id="settings-page">
                <div class="header">
                    <h2>إعدادات النظام</h2>
                </div>

                <div class="settings-profile">
                    <h3><i class="fas fa-user-cog"></i> الملف الشخصي</h3>
                    <div class="profile-form">
                        <div class="input-group">
                            <label for="profile-name">الاسم الكامل</label>
                            <input type="text" id="profile-name" value="أحمد محمد علي">
                        </div>
                        
                        <div class="input-group">
                            <label for="profile-email">البريد الإلكتروني</label>
                            <input type="email" id="profile-email" value="ahmed@water.com">
                        </div>
                        
                        <div class="input-group">
                            <label for="profile-phone">رقم الهاتف</label>
                            <input type="tel" id="profile-phone" value="+20123456789">
                        </div>
                        
                        <div class="input-group">
                            <label for="profile-role">الدور</label>
                            <select id="profile-role">
                                <option value="admin" selected>مدير النظام</option>
                                <option value="tech">فني مختبر</option>
                                <option value="monitor">مراقب جودة</option>
                            </select>
                        </div>
                    </div>
                    <button class="btn-save" style="margin-top: 20px;">
                        <i class="fas fa-save"></i> حفظ التغييرات
                    </button>
                </div>

                <div class="settings-section">
                    <h3><i class="fas fa-bell"></i> إشعارات النظام</h3>
                    <div class="settings-grid">
                        <div class="setting-group">
                            <h4>إعدادات التنبيهات</h4>
                            <div class="setting-item">
                                <div class="setting-info">
                                    <h5>الإشعارات العامة</h5>
                                    <p>تلقي إشعارات حول حالة النظام والتحديثات</p>
                                </div>
                                <label class="toggle-switch">
                                    <input type="checkbox" id="general-notifications" checked>
                                    <span class="slider"></span>
                                </label>
                            </div>
                            <div class="setting-item">
                                <div class="setting-info">
                                    <h5>إشعارات البريد الإلكتروني</h5>
                                    <p>إرسال التقارير والتنبيهات عبر البريد</p>
                                </div>
                                <label class="toggle-switch">
                                    <input type="checkbox" id="email-notifications" checked>
                                    <span class="slider"></span>
                                </label>
                            </div>
                            <div class="setting-item">
                                <div class="setting-info">
                                    <h5>تنبيهات الطوارئ</h5>
                                    <p>إشعارات فورية عند اكتشاف مشاكل حرجة</p>
                                </div>
                                <label class="toggle-switch">
                                    <input type="checkbox" id="emergency-notifications" checked>
                                    <span class="slider"></span>
                                </label>
                            </div>
                            <div class="setting-item">
                                <div class="setting-info">
                                    <h5>إشعارات الصوت</h5>
                                    <p>تفعيل التنبيهات الصوتية للتحذيرات</p>
                                </div>
                                <label class="toggle-switch">
                                    <input type="checkbox" id="sound-notifications">
                                    <span class="slider"></span>
                                </label>
                            </div>
                        </div>

                        <div class="setting-group">
                            <h4>إعدادات البيانات</h4>
                            <div class="setting-item">
                                <div class="setting-info">
                                    <h5>فترة التحديث</h5>
                                    <p>المدة بين كل تحديث للقراءات</p>
                                </div>
                                <select class="select-setting" id="update-interval">
                                    <option value="5">5 دقائق</option>
                                    <option value="10" selected>10 دقائق</option>
                                    <option value="15">15 دقائق</option>
                                    <option value="30">30 دقائق</option>
                                    <option value="60">ساعة واحدة</option>
                                </select>
                            </div>
                            <div class="setting-item">
                                <div class="setting-info">
                                    <h5>تخزين البيانات</h5>
                                    <p>مدة الاحتفاظ بالبيانات التاريخية</p>
                                </div>
                                <select class="select-setting" id="data-retention">
                                    <option value="3">3 أشهر</option>
                                    <option value="6" selected>6 أشهر</option>
                                    <option value="12">سنة واحدة</option>
                                    <option value="24">سنتين</option>
                                    <option value="-1">غير محدود</option>
                                </select>
                            </div>
                            <div class="setting-item">
                                <div class="setting-info">
                                    <h5>تنسيق التاريخ</h5>
                                    <p>طريقة عرض التواريخ في النظام</p>
                                </div>
                                <select class="select-setting" id="date-format">
                                    <option value="dd/mm/yyyy" selected>يوم/شهر/سنة</option>
                                    <option value="mm/dd/yyyy">شهر/يوم/سنة</option>
                                    <option value="yyyy-mm-dd">سنة-شهر-يوم</option>
                                </select>
                            </div>
                            <div class="setting-item">
                                <div class="setting-info">
                                    <h5>النسخ الاحتياطي التلقائي</h5>
                                    <p>إنشاء نسخ احتياطية بشكل دوري</p>
                                </div>
                                <label class="toggle-switch">
                                    <input type="checkbox" id="auto-backup" checked>
                                    <span class="slider"></span>
                                </label>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="settings-section" style="margin-top: 30px;">
                    <h3><i class="fas fa-palette"></i> إعدادات المظهر</h3>
                    <div class="settings-grid">
                        <div class="setting-group">
                            <h4>تخصيص الواجهة</h4>
                            <div class="setting-item">
                                <div class="setting-info">
                                    <h5>الوضع الليلي</h5>
                                    <p>تفعيل الوضع المظلم لحماية العينين</p>
                                </div>
                                <label class="toggle-switch">
                                    <input type="checkbox" id="dark-mode">
                                    <span class="slider"></span>
                                </label>
                            </div>
                            <div class="setting-item">
                                <div class="setting-info">
                                    <h5>لغة الواجهة</h5>
                                    <p>اختيار لغة عرض النظام</p>
                                </div>
                                <select class="select-setting" id="language">
                                    <option value="ar" selected>العربية</option>
                                    <option value="en">English</option>
                                    <option value="fr">Français</option>
                                </select>
                            </div>
                            <div class="setting-item">
                                <div class="setting-info">
                                    <h5>حجم الخط</h5>
                                    <p>تكبير أو تصغير حجم النصوص</p>
                                </div>
                                <select class="select-setting" id="font-size">
                                    <option value="small">صغير</option>
                                    <option value="medium" selected>متوسط</option>
                                    <option value="large">كبير</option>
                                </select>
                            </div>
                            <div class="setting-item">
                                <div class="setting-info">
                                    <h5>الرسوم المتحركة</h5>
                                    <p>تفعيل التأثيرات البصرية والحركية</p>
                                </div>
                                <label class="toggle-switch">
                                    <input type="checkbox" id="animations" checked>
                                    <span class="slider"></span>
                                </label>
                            </div>
                        </div>
                        
                        <div class="setting-group">
                            <h4>تخصيص الألوان</h4>
                            <div class="setting-item">
                                <div class="setting-info">
                                    <h5>اللون الأساسي</h5>
                                    <p>اللون الرئيسي للواجهة</p>
                                </div>
                                <input type="color" id="primary-color" value="#2c7fb8" style="width: 40px; height: 40px; border: none; border-radius: 5px; cursor: pointer;">
                            </div>
                            <div class="setting-item">
                                <div class="setting-info">
                                    <h5>لون الثانوي</h5>
                                    <p>لون العناصر الثانوية</p>
                                </div>
                                <input type="color" id="secondary-color" value="#7fcdbb" style="width: 40px; height: 40px; border: none; border-radius: 5px; cursor: pointer;">
                            </div>
                            <div class="setting-item">
                                <div class="setting-info">
                                    <h5>نمط البطاقات</h5>
                                    <p>تخصيص مظهر البطاقات</p>
                                </div>
                                <select class="select-setting" id="card-style">
                                    <option value="flat">مسطحة</option>
                                    <option value="shadow" selected>بظلال</option>
                                    <option value="border">بحدود</option>
                                </select>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="settings-section" style="margin-top: 30px;">
                    <h3><i class="fas fa-shield-alt"></i> إعدادات الأمان</h3>
                    <div class="settings-grid">
                        <div class="setting-group">
                            <h4>حماية الحساب</h4>
                            <div class="setting-item">
                                <div class="setting-info">
                                    <h5>المصادقة الثنائية</h5>
                                    <p>تفعيل التحقق بخطوتين لمزيد من الأمان</p>
                                </div>
                                <label class="toggle-switch">
                                    <input type="checkbox" id="two-factor-auth">
                                    <span class="slider"></span>
                                </label>
                            </div>
                            <div class="setting-item">
                                <div class="setting-info">
                                    <h5>تذكر جلسة الدخول</h5>
                                    <p>البقاء مسجلاً لفترة أطول</p>
                                </div>
                                <label class="toggle-switch">
                                    <input type="checkbox" id="long-sessions" checked>
                                    <span class="slider"></span>
                                </label>
                            </div>
                            <div class="setting-item">
                                <div class="setting-info">
                                    <h5>مدة انتهاء الجلسة</h5>
                                    <p>تسجيل خروج تلقائي بعد فترة من عدم النشاط</p>
                                </div>
                                <select class="select-setting" id="session-timeout">
                                    <option value="15">15 دقيقة</option>
                                    <option value="30" selected>30 دقيقة</option>
                                    <option value="60">ساعة واحدة</option>
                                    <option value="120">ساعتين</option>
                                    <option value="-1">بدون انتهاء</option>
                                </select>
                            </div>
                            <div class="setting-item">
                                <div class="setting-info">
                                    <h5>سجل النشاط</h5>
                                    <p>تتبع عمليات تسجيل الدخول والأنشطة</p>
                                </div>
                                <label class="toggle-switch">
                                    <input type="checkbox" id="activity-log" checked>
                                    <span class="slider"></span>
                                </label>
                            </div>
                        </div>
                        
                        <div class="setting-group">
                            <h4>تغيير كلمة المرور</h4>
                            <div class="setting-item" style="flex-direction: column; align-items: flex-start;">
                                <div class="input-group" style="width: 100%; margin-bottom: 15px;">
                                    <label for="current-password">كلمة المرور الحالية</label>
                                    <input type="password" id="current-password" placeholder="أدخل كلمة المرور الحالية">
                                </div>
                                <div class="input-group" style="width: 100%; margin-bottom: 15px;">
                                    <label for="new-password">كلمة المرور الجديدة</label>
                                    <input type="password" id="new-password" placeholder="أدخل كلمة المرور الجديدة">
                                </div>
                                <div class="input-group" style="width: 100%; margin-bottom: 15px;">
                                    <label for="confirm-new-password">تأكيد كلمة المرور الجديدة</label>
                                    <input type="password" id="confirm-new-password" placeholder="أعد إدخال كلمة المرور الجديدة">
                                </div>
                                <button class="btn-save">
                                    <i class="fas fa-key"></i> تغيير كلمة المرور
                                </button>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="settings-section" style="margin-top: 30px;">
                    <h3><i class="fas fa-sliders-h"></i> إعدادات متقدمة</h3>
                    <div class="setting-group">
                        <div class="setting-item">
                            <div class="setting-info">
                                <h5>واجهة برمجة التطبيقات (API)</h5>
                                <p>إدارة مفاتيح الوصول للتطبيقات الخارجية</p>
                            </div>
                            <button class="btn-save" style="padding: 8px 20px; font-size: 0.9rem;">
                                <i class="fas fa-key"></i> إدارة المفاتيح
                            </button>
                        </div>
                        <div class="setting-item">
                            <div class="setting-info">
                                <h5>نسخ احتياطي</h5>
                                <p>إنشاء نسخة احتياطية كاملة من البيانات</p>
                            </div>
                            <button class="btn-save" style="padding: 8px 20px; font-size: 0.9rem; background: var(--success);" id="create-backup">
                                <i class="fas fa-download"></i> إنشاء نسخة
                            </button>
                        </div>
                        <div class="setting-item">
                            <div class="setting-info">
                                <h5>استيراد البيانات</h5>
                                <p>استعادة نسخة احتياطية سابقة</p>
                            </div>
                            <button class="btn-save" style="padding: 8px 20px; font-size: 0.9rem; background: var(--warning);">
                                <i class="fas fa-upload"></i> استيراد
                            </button>
                        </div>
                        <div class="setting-item">
                            <div class="setting-info">
                                <h5>تصدير التقارير</h5>
                                <p>حفظ التقارير بصيغة PDF أو Excel</p>
                            </div>
                            <button class="btn-save" style="padding: 8px 20px; font-size: 0.9rem; background: var(--secondary);">
                                <i class="fas fa-file-export"></i> تصدير
                            </button>
                        </div>
                        <div class="setting-item" style="border-top: 2px solid #f0f0f0; margin-top: 20px; padding-top: 20px;">
                            <div class="setting-info">
                                <h5>إعادة تعيين الإعدادات</h5>
                                <p>استرجاع جميع الإعدادات إلى الوضع الافتراضي</p>
                            </div>
                            <button class="btn-save" style="padding: 8px 20px; font-size: 0.9rem; background: var(--danger);" id="reset-settings">
                                <i class="fas fa-redo"></i> إعادة تعيين
                            </button>
                        </div>
                    </div>
                </div>

                <div style="text-align: left; margin-top: 30px; padding-top: 20px; border-top: 2px solid #e0e0e0;">
                    <button class="btn-save" id="save-settings" style="padding: 15px 40px; font-size: 1.1rem;">
                        <i class="fas fa-save"></i> حفظ جميع الإعدادات
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- <script src="main.js"></script> -->

    <script>
        
document.addEventListener('DOMContentLoaded', function() {
    // حفظ المستخدم في localStorage
    const users = {
        'admin@water.com': { password: 'Admin@2024', name: 'أحمد محمد', role: 'admin' },
        'tech@water.com': { password: 'Tech@2024', name: 'محمود علي', role: 'tech' }
    };

    let currentUser = null;
    let map = null;
    let charts = [];
    let stationsData = [];

    // التحقق من وجود جلسة مسجلة
    checkLoginStatus();

    function checkLoginStatus() {
        const loggedIn = localStorage.getItem('waterQualityLoggedIn');
        const userEmail = localStorage.getItem('waterQualityUser');
        
        if (loggedIn === 'true' && userEmail && users[userEmail]) {
            currentUser = users[userEmail];
            document.body.classList.add('logged-in');
            document.getElementById('current-user-name').textContent = currentUser.name;
            document.getElementById('current-user-role').textContent = 
                currentUser.role === 'admin' ? 'مسؤول النظام' : 
                currentUser.role === 'tech' ? 'فني مختبر' : 'مراقب جودة';
            initApp();
        }
    }

    // تبديل التبويبات
    document.querySelectorAll('.login-tab').forEach(tab => {
        tab.addEventListener('click', () => {
            const tabName = tab.dataset.tab;
            document.querySelectorAll('.login-tab').forEach(t => t.classList.remove('active'));
            document.querySelectorAll('.login-form').forEach(f => f.classList.remove('active'));
            tab.classList.add('active');
            document.getElementById(tabName + '-form').classList.add('active');
        });
    });

    // الحسابات التجريبية
    document.querySelectorAll('.demo-account').forEach(account => {
        account.addEventListener('click', () => {
            document.getElementById('email').value = account.dataset.email;
            document.getElementById('password').value = account.dataset.password;
            document.querySelectorAll('.login-tab')[0].click();
        });
    });

    // تسجيل الدخول
    document.getElementById('login-form').addEventListener('submit', async (e) => {
        e.preventDefault();
        const email = document.getElementById('email').value;
        const password = document.getElementById('password').value;
        const rememberMe = document.getElementById('remember-me').checked;

        const loginBtn = document.getElementById('loginButton');
        const spinner = loginBtn.querySelector('i');
        const btnText = loginBtn.querySelector('span');
        
        spinner.style.display = 'inline-block';
        btnText.textContent = 'جاري تسجيل الدخول...';
        loginBtn.disabled = true;

        // محاكاة اتصال بالخادم
        setTimeout(() => {
            if (users[email] && users[email].password === password) {
                currentUser = users[email];
                
                // حفظ حالة الدخول في localStorage
                if (rememberMe) {
                    localStorage.setItem('waterQualityLoggedIn', 'true');
                    localStorage.setItem('waterQualityUser', email);
                    localStorage.setItem('waterQualityUserName', currentUser.name);
                    localStorage.setItem('waterQualityUserRole', currentUser.role);
                } else {
                    localStorage.setItem('waterQualityLoggedIn', 'true');
                    localStorage.setItem('waterQualityUser', email);
                }
                
                showMessage('login-message', 'تم تسجيل الدخول بنجاح!', 'success');
                
                setTimeout(() => {
                    document.body.classList.add('logged-in');
                    document.getElementById('current-user-name').textContent = currentUser.name;
                    document.getElementById('current-user-role').textContent = 
                        currentUser.role === 'admin' ? 'مسؤول النظام' : 
                        currentUser.role === 'tech' ? 'فني مختبر' : 'مراقب جودة';
                    initApp();
                    
                    spinner.style.display = 'none';
                    btnText.textContent = 'دخول النظام';
                    loginBtn.disabled = false;
                }, 1000);
            } else {
                showMessage('login-message', 'البريد الإلكتروني أو كلمة المرور غير صحيحة', 'error');
                spinner.style.display = 'none';
                btnText.textContent = 'دخول النظام';
                loginBtn.disabled = false;
            }
        }, 1500);
    });

    // التسجيل
    document.getElementById('register-form').addEventListener('submit', (e) => {
        e.preventDefault();
        const password = document.getElementById('reg-password').value;
        const confirmPassword = document.getElementById('reg-confirm-password').value;

        if (password !== confirmPassword) {
            showMessage('register-message', 'كلمات المرور غير متطابقة', 'error');
            return;
        }

        showMessage('register-message', 'تم إنشاء الحساب بنجاح!', 'success');
    });

    // استعادة كلمة المرور
    document.getElementById('reset-form').addEventListener('submit', (e) => {
        e.preventDefault();
        showMessage('reset-message', 'تم إرسال رابط الاستعادة إلى بريدك الإلكتروني', 'success');
    });

    // روابط التنقل
    document.getElementById('show-reset-tab').addEventListener('click', (e) => {
        e.preventDefault();
        document.querySelectorAll('.login-tab')[2].click();
    });

    document.getElementById('back-to-login').addEventListener('click', (e) => {
        e.preventDefault();
        document.querySelectorAll('.login-tab')[0].click();
    });

    // إظهار/إخفاء كلمة المرور
    ['toggleLoginPassword', 'toggleRegPassword', 'toggleConfirmPassword'].forEach(id => {
        const btn = document.getElementById(id);
        if (btn) {
            btn.addEventListener('click', () => {
                const input = btn.previousElementSibling.previousElementSibling;
                const type = input.type === 'password' ? 'text' : 'password';
                input.type = type;
                btn.querySelector('i').className = type === 'password' ? 'fas fa-eye' : 'fas fa-eye-slash';
            });
        }
    });

    // فحص قوة كلمة المرور
    const regPassword = document.getElementById('reg-password');
    if (regPassword) {
        regPassword.addEventListener('input', (e) => {
            const password = e.target.value;
            const bar = document.getElementById('password-strength-bar');
            const hint = document.getElementById('password-hint');
            
            let strength = 0;
            if (password.length >= 8) strength++;
            if (/[A-Z]/.test(password)) strength++;
            if (/[a-z]/.test(password)) strength++;
            if (/[0-9]/.test(password)) strength++;
            if (/[^A-Za-z0-9]/.test(password)) strength++;
            
            bar.style.width = (strength * 20) + '%';
            bar.className = 'password-strength-bar';
            
            if (strength < 2) {
                bar.classList.add('strength-weak');
                hint.textContent = 'كلمة مرور ضعيفة';
                hint.style.color = '#e6555a';
            } else if (strength < 4) {
                bar.classList.add('strength-medium');
                hint.textContent = 'كلمة مرور متوسطة';
                hint.style.color = '#fdae6b';
            } else {
                bar.classList.add('strength-strong');
                hint.textContent = 'كلمة مرور قوية';
                hint.style.color = '#31a354';
            }
        });
    }

    // التنقل في التطبيق
    document.querySelectorAll('.nav-link').forEach(link => {
        link.addEventListener('click', (e) => {
            e.preventDefault();
            document.querySelectorAll('.nav-link').forEach(l => l.classList.remove('active'));
            document.querySelectorAll('.page').forEach(p => p.classList.remove('active'));
            
            link.classList.add('active');
            const pageId = link.dataset.page + '-page';
            document.getElementById(pageId).classList.add('active');
            
            if (pageId === 'map-page') {
                initMap();
            }
            
            if (pageId === 'dashboard-page') {
                initCharts();
            }
        });
    });

    // تسجيل الخروج
    const logoutLink = document.getElementById('logoutLink');
    if (logoutLink) {
        logoutLink.addEventListener('click', (e) => {
            e.preventDefault();
            if (confirm('هل أنت متأكد من تسجيل الخروج؟')) {
                // مسح بيانات localStorage
                localStorage.removeItem('waterQualityLoggedIn');
                localStorage.removeItem('waterQualityUser');
                
                document.body.classList.remove('logged-in');
                currentUser = null;
                document.getElementById('email').value = '';
                document.getElementById('password').value = '';
                if (map) {
                    map.remove();
                    map = null;
                }
                charts.forEach(chart => chart.destroy());
                charts = [];
            }
        });
    }

    // الوضع الليلي
    const darkModeToggle = document.getElementById('dark-mode');
    if (darkModeToggle) {
        // تحميل إعدادات الوضع الليلي من localStorage
        const darkMode = localStorage.getItem('darkMode') === 'true';
        if (darkMode) {
            document.body.classList.add('dark-mode');
            darkModeToggle.checked = true;
        }
        
        darkModeToggle.addEventListener('change', (e) => {
            if (e.target.checked) {
                document.body.classList.add('dark-mode');
                localStorage.setItem('darkMode', 'true');
            } else {
                document.body.classList.remove('dark-mode');
                localStorage.setItem('darkMode', 'false');
            }
        });
    }

    // حاسبة استهلاك المياه
    const calculateWaterBtn = document.getElementById('calculate-water');
    if (calculateWaterBtn) {
        calculateWaterBtn.addEventListener('click', () => {
            const weight = parseFloat(document.getElementById('weight-input').value);
            const activityLevel = parseFloat(document.getElementById('activity-level').value);
            
            if (weight && weight >= 30 && weight <= 200) {
                // حساب احتياجات الماء (35 مل لكل كجم من الوزن)
                const waterNeeds = (weight * 35 * activityLevel) / 1000;
                const cups = Math.round(waterNeeds * 4);
                
                document.getElementById('water-needs').textContent = waterNeeds.toFixed(1) + ' لتر';
                document.getElementById('water-equivalent').textContent = cups + ' كوب';
                document.getElementById('water-result').style.display = 'block';
            } else {
                alert('الرجاء إدخال وزن صحيح بين 30 و 200 كجم');
            }
        });
    }

    // دالة عرض الرسائل
    function showMessage(id, message, type) {
        const element = document.getElementById(id);
        if (element) {
            element.textContent = message;
            element.className = 'message ' + type;
            element.style.display = 'block';
            setTimeout(() => {
                element.style.display = 'none';
            }, 5000);
        }
    }

    // تهيئة التطبيق
    function initApp() {
        initCharts();
        loadUserPreferences();
        
        // تحميل آخر صفحة كان المستخدم فيها
        const lastPage = localStorage.getItem('lastPage') || 'home';
        document.querySelectorAll('.nav-link').forEach(link => {
            if (link.dataset.page === lastPage) {
                link.click();
            }
        });
    }

    // تحميل تفضيلات المستخدم
    function loadUserPreferences() {
        // تحميل إعدادات الوضع الليلي
        const darkMode = localStorage.getItem('darkMode') === 'true';
        if (darkMode) {
            document.body.classList.add('dark-mode');
            if (document.getElementById('dark-mode')) {
                document.getElementById('dark-mode').checked = true;
            }
        }
    }

    // حفظ آخر صفحة زارها المستخدم
    document.querySelectorAll('.nav-link').forEach(link => {
        link.addEventListener('click', () => {
            localStorage.setItem('lastPage', link.dataset.page);
        });
    });

    // تهيئة الرسوم البيانية
    function initCharts() {
        const waterQualityCtx = document.getElementById('waterQualityChart');
        if (waterQualityCtx) {
            const waterChart = new Chart(waterQualityCtx.getContext('2d'), {
                type: 'line',
                data: {
                    labels: ['الاثنين', 'الثلاثاء', 'الأربعاء', 'الخميس', 'الجمعة', 'السبت', 'الأحد'],
                    datasets: [
                        {
                            label: 'الأس الهيدروجيني',
                            data: [7.1, 7.3, 7.0, 7.2, 7.4, 7.1, 7.2],
                            borderColor: '#2c7fb8',
                            backgroundColor: 'rgba(44, 127, 184, 0.1)',
                            tension: 0.4,
                            fill: true
                        },
                        {
                            label: 'العكورة (NTU)',
                            data: [2.5, 2.8, 3.2, 2.1, 1.9, 2.3, 2.1],
                            borderColor: '#7fcdbb',
                            backgroundColor: 'rgba(127, 205, 187, 0.1)',
                            tension: 0.4,
                            fill: true
                        }
                    ]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: {
                            position: 'top',
                            rtl: true
                        }
                    }
                }
            });
            charts.push(waterChart);
        }

        const stationsStatusCtx = document.getElementById('stationsStatusChart');
        if (stationsStatusCtx) {
            const statusChart = new Chart(stationsStatusCtx.getContext('2d'), {
                type: 'doughnut',
                data: {
                    labels: ['طبيعي', 'تحذير', 'حرج'],
                    datasets: [{
                        data: [3, 1, 1],
                        backgroundColor: ['#31a354', '#fdae6b', '#e6555a']
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: {
                            position: 'bottom',
                            rtl: true
                        }
                    }
                }
            });
            charts.push(statusChart);
        }

        const solarProductionCtx = document.getElementById('solarProductionChart');
        if (solarProductionCtx) {
            const solarChart = new Chart(solarProductionCtx.getContext('2d'), {
                type: 'bar',
                data: {
                    labels: ['6 ص', '9 ص', '12 ظ', '3 م', '6 م', '9 م'],
                    datasets: [{
                        label: 'إنتاج الطاقة (كيلوواط/ساعة)',
                        data: [0.5, 1.8, 2.4, 1.9, 0.8, 0.2],
                        backgroundColor: '#f9c74f',
                        borderColor: '#f9844a',
                        borderWidth: 1
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: {
                            position: 'top',
                            rtl: true
                        }
                    },
                    scales: {
                        y: {
                            beginAtZero: true,
                            title: {
                                display: true,
                                text: 'كيلوواط/ساعة'
                            }
                        }
                    }
                }
            });
            charts.push(solarChart);
        }
    }

    // تهيئة الخريطة
    function initMap() {
        const mapElement = document.getElementById('map');
        if (!mapElement) return;

        if (map) {
            map.remove();
        }

        try {
            map = L.map('map').setView([30.0444, 31.2357], 7);
            
            L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
                attribution: '© OpenStreetMap contributors'
            }).addTo(map);
            
            // بيانات المحطات
            stationsData = [
                { 
                    id: 1,
                    lat: 30.0444, 
                    lng: 31.2357, 
                    name: 'محطة النيل الرئيسية', 
                    status: 'normal',
                    ph: 7.2,
                    turbidity: 2.1,
                    oxygen: 8.4,
                    temperature: 24,
                    lastUpdate: 'منذ 5 دقائق'
                },
                { 
                    id: 2,
                    lat: 31.4044, 
                    lng: 30.4167, 
                    name: 'فرع رشيد', 
                    status: 'warning',
                    ph: 6.8,
                    turbidity: 4.2,
                    oxygen: 6.1,
                    temperature: 26,
                    lastUpdate: 'منذ 12 دقيقة'
                },
                { 
                    id: 3,
                    lat: 31.0414, 
                    lng: 31.3583, 
                    name: 'فرع دمياط', 
                    status: 'normal',
                    ph: 7.4,
                    turbidity: 2.1,
                    oxygen: 7.9,
                    temperature: 23,
                    lastUpdate: 'منذ 8 دقائق'
                },
                { 
                    id: 4,
                    lat: 30.5833, 
                    lng: 32.2667, 
                    name: 'قناة الإسماعيلية', 
                    status: 'critical',
                    ph: 5.9,
                    turbidity: 8.5,
                    oxygen: 4.2,
                    temperature: 28,
                    lastUpdate: 'منذ 20 دقيقة'
                },
                { 
                    id: 5,
                    lat: 23.9667, 
                    lng: 32.8833, 
                    name: 'بحيرة ناصر', 
                    status: 'normal',
                    ph: 7.0,
                    turbidity: 1.8,
                    oxygen: 8.1,
                    temperature: 22,
                    lastUpdate: 'منذ 15 دقيقة'
                }
            ];
            
            // إضافة المحطات إلى الخريطة
            addStationsToMap();
            
            // إعدادات التحكم
            setupMapControls();

            setTimeout(() => {
                map.invalidateSize();
            }, 100);
        } catch (error) {
            console.error('Error initializing map:', error);
        }
    }

    // إضافة المحطات إلى الخريطة
    function addStationsToMap(filter = 'all') {
        // إزالة جميع المحطات الحالية
        map.eachLayer((layer) => {
            if (layer instanceof L.CircleMarker) {
                map.removeLayer(layer);
            }
        });

        // إضافة المحطات المصفاة
        stationsData.forEach(station => {
            if (filter === 'all' || station.status === filter) {
                let color;
                let icon;
                
                if (station.status === 'normal') {
                    color = '#31a354';
                    icon = 'check-circle';
                } else if (station.status === 'warning') {
                    color = '#fdae6b';
                    icon = 'exclamation-triangle';
                } else {
                    color = '#e6555a';
                    icon = 'skull-crossbones';
                }
                
                const marker = L.circleMarker([station.lat, station.lng], {
                    color: color,
                    fillColor: color,
                    fillOpacity: 0.7,
                    radius: 8
                }).addTo(map);
                
                marker.bindPopup(`
                    <div style="text-align: right;">
                        <h4 style="margin-bottom: 10px; color: ${color}">
                            <i class="fas fa-${icon}"></i> ${station.name}
                        </h4>
                        <p><strong>الحالة:</strong> ${station.status === 'normal' ? 'طبيعي' : station.status === 'warning' ? 'تحذير' : 'حرج'}</p>
                        <p><strong>آخر تحديث:</strong> ${station.lastUpdate}</p>
                        <button onclick="showStationDetails(${station.id})" style="background: ${color}; color: white; border: none; padding: 5px 10px; border-radius: 5px; cursor: pointer; margin-top: 10px;">
                            <i class="fas fa-info-circle"></i> عرض التفاصيل
                        </button>
                    </div>
                `);
                
                marker.on('click', () => {
                    showStationDetails(station.id);
                });
            }
        });
    }

    // إعداد عناصر التحكم في الخريطة
    function setupMapControls() {
        // أزرار التصفية
        document.querySelectorAll('.control-btn[data-filter]').forEach(btn => {
            btn.addEventListener('click', () => {
                document.querySelectorAll('.control-btn[data-filter]').forEach(b => b.classList.remove('active'));
                btn.classList.add('active');
                const filter = btn.dataset.filter;
                addStationsToMap(filter);
            });
        });

        // أزرار الطبقات
        document.querySelectorAll('.control-btn[data-layer]').forEach(btn => {
            btn.addEventListener('click', () => {
                document.querySelectorAll('.control-btn[data-layer]').forEach(b => b.classList.remove('active'));
                btn.classList.add('active');
                
                if (btn.dataset.layer === 'satellite') {
                    map.eachLayer((layer) => {
                        if (layer instanceof L.TileLayer) {
                            map.removeLayer(layer);
                        }
                    });
                    L.tileLayer('https://server.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer/tile/{z}/{y}/{x}', {
                        attribution: '© Esri'
                    }).addTo(map);
                } else {
                    map.eachLayer((layer) => {
                        if (layer instanceof L.TileLayer) {
                            map.removeLayer(layer);
                        }
                    });
                    L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
                        attribution: '© OpenStreetMap contributors'
                    }).addTo(map);
                }
            });
        });

        // زر تحديث الخريطة
        document.getElementById('refresh-map').addEventListener('click', () => {
            // محاكاة تحديث البيانات
            stationsData.forEach(station => {
                station.lastUpdate = 'منذ 0 دقائق';
            });
            
            const activeFilter = document.querySelector('.control-btn[data-filter].active').dataset.filter;
            addStationsToMap(activeFilter);
            
            // إظهار رسالة نجاح
            showMessage('login-message', 'تم تحديث بيانات الخريطة بنجاح', 'success');
        });
    }

    // عرض تفاصيل المحطة
    window.showStationDetails = function(stationId) {
        const station = stationsData.find(s => s.id === stationId);
        if (!station) return;

        const infoDiv = document.getElementById('selected-station-info');
        const metricsDiv = document.getElementById('station-metrics');

        infoDiv.innerHTML = `
            <h3 style="color: var(--primary); margin-bottom: 10px;">
                <i class="fas fa-${station.status === 'normal' ? 'check-circle' : station.status === 'warning' ? 'exclamation-triangle' : 'skull-crossbones'}"></i>
                ${station.name}
            </h3>
            <p><strong>الحالة:</strong> ${station.status === 'normal' ? 'طبيعي' : station.status === 'warning' ? 'تحذير' : 'حرج'}</p>
            <p><strong>آخر تحديث:</strong> ${station.lastUpdate}</p>
        `;

        document.getElementById('station-ph').textContent = station.ph;
        document.getElementById('station-turbidity').textContent = station.turbidity;
        document.getElementById('station-oxygen').textContent = station.oxygen;
        document.getElementById('station-temperature').textContent = station.temperature + '°C';

        metricsDiv.style.display = 'grid';
    };
});
    </script>
</body>
</html>